#!/usr/bin/env node
var Pi=Object.create;var Zt=Object.defineProperty,$i=Object.defineProperties,Ii=Object.getOwnPropertyDescriptor,vi=Object.getOwnPropertyDescriptors,Fi=Object.getOwnPropertyNames,Wn=Object.getOwnPropertySymbols,Ri=Object.getPrototypeOf,Tn=Object.prototype.hasOwnProperty,Ni=Object.prototype.propertyIsEnumerable;var Ln=(s,e,t)=>e in s?Zt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Ie=(s,e)=>{for(var t in e||(e={}))Tn.call(e,t)&&Ln(s,t,e[t]);if(Wn)for(var t of Wn(e))Ni.call(e,t)&&Ln(s,t,e[t]);return s},zn=(s,e)=>$i(s,vi(e));var je=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var Wi=(s,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Fi(e))!Tn.call(s,i)&&i!==t&&Zt(s,i,{get:()=>e[i],enumerable:!(n=Ii(e,i))||n.enumerable});return s};var Li=(s,e,t)=>(t=s!=null?Pi(Ri(s)):{},Wi(e||!s||!s.__esModule?Zt(t,"default",{value:s,enumerable:!0}):t,s));var Js=je((ja,Ks)=>{"use strict";Ks.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var jn=je((Aa,Zs)=>{var Ct=Js(),Qs={};for(let s of Object.keys(Ct))Qs[Ct[s]]=s;var S={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Zs.exports=S;for(let s of Object.keys(S)){if(!("channels"in S[s]))throw new Error("missing channels property: "+s);if(!("labels"in S[s]))throw new Error("missing channel labels property: "+s);if(S[s].labels.length!==S[s].channels)throw new Error("channel and label counts mismatch: "+s);let{channels:e,labels:t}=S[s];delete S[s].channels,delete S[s].labels,Object.defineProperty(S[s],"channels",{value:e}),Object.defineProperty(S[s],"labels",{value:t})}S.rgb.hsl=function(s){let e=s[0]/255,t=s[1]/255,n=s[2]/255,i=Math.min(e,t,n),r=Math.max(e,t,n),o=r-i,l,f;r===i?l=0:e===r?l=(t-n)/o:t===r?l=2+(n-e)/o:n===r&&(l=4+(e-t)/o),l=Math.min(l*60,360),l<0&&(l+=360);let m=(i+r)/2;return r===i?f=0:m<=.5?f=o/(r+i):f=o/(2-r-i),[l,f*100,m*100]};S.rgb.hsv=function(s){let e,t,n,i,r,o=s[0]/255,l=s[1]/255,f=s[2]/255,m=Math.max(o,l,f),b=m-Math.min(o,l,f),u=function(g){return(m-g)/6/b+1/2};return b===0?(i=0,r=0):(r=b/m,e=u(o),t=u(l),n=u(f),o===m?i=n-t:l===m?i=1/3+e-n:f===m&&(i=2/3+t-e),i<0?i+=1:i>1&&(i-=1)),[i*360,r*100,m*100]};S.rgb.hwb=function(s){let e=s[0],t=s[1],n=s[2],i=S.rgb.hsl(s)[0],r=1/255*Math.min(e,Math.min(t,n));return n=1-1/255*Math.max(e,Math.max(t,n)),[i,r*100,n*100]};S.rgb.cmyk=function(s){let e=s[0]/255,t=s[1]/255,n=s[2]/255,i=Math.min(1-e,1-t,1-n),r=(1-e-i)/(1-i)||0,o=(1-t-i)/(1-i)||0,l=(1-n-i)/(1-i)||0;return[r*100,o*100,l*100,i*100]};function dr(s,e){return(s[0]-e[0])**2+(s[1]-e[1])**2+(s[2]-e[2])**2}S.rgb.keyword=function(s){let e=Qs[s];if(e)return e;let t=1/0,n;for(let i of Object.keys(Ct)){let r=Ct[i],o=dr(s,r);o<t&&(t=o,n=i)}return n};S.keyword.rgb=function(s){return Ct[s]};S.rgb.xyz=function(s){let e=s[0]/255,t=s[1]/255,n=s[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+t*.3576+n*.1805,r=e*.2126+t*.7152+n*.0722,o=e*.0193+t*.1192+n*.9505;return[i*100,r*100,o*100]};S.rgb.lab=function(s){let e=S.rgb.xyz(s),t=e[0],n=e[1],i=e[2];t/=95.047,n/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let r=116*n-16,o=500*(t-n),l=200*(n-i);return[r,o,l]};S.hsl.rgb=function(s){let e=s[0]/360,t=s[1]/100,n=s[2]/100,i,r,o;if(t===0)return o=n*255,[o,o,o];n<.5?i=n*(1+t):i=n+t-n*t;let l=2*n-i,f=[0,0,0];for(let m=0;m<3;m++)r=e+1/3*-(m-1),r<0&&r++,r>1&&r--,6*r<1?o=l+(i-l)*6*r:2*r<1?o=i:3*r<2?o=l+(i-l)*(2/3-r)*6:o=l,f[m]=o*255;return f};S.hsl.hsv=function(s){let e=s[0],t=s[1]/100,n=s[2]/100,i=t,r=Math.max(n,.01);n*=2,t*=n<=1?n:2-n,i*=r<=1?r:2-r;let o=(n+t)/2,l=n===0?2*i/(r+i):2*t/(n+t);return[e,l*100,o*100]};S.hsv.rgb=function(s){let e=s[0]/60,t=s[1]/100,n=s[2]/100,i=Math.floor(e)%6,r=e-Math.floor(e),o=255*n*(1-t),l=255*n*(1-t*r),f=255*n*(1-t*(1-r));switch(n*=255,i){case 0:return[n,f,o];case 1:return[l,n,o];case 2:return[o,n,f];case 3:return[o,l,n];case 4:return[f,o,n];case 5:return[n,o,l]}};S.hsv.hsl=function(s){let e=s[0],t=s[1]/100,n=s[2]/100,i=Math.max(n,.01),r,o;o=(2-t)*n;let l=(2-t)*i;return r=t*i,r/=l<=1?l:2-l,r=r||0,o/=2,[e,r*100,o*100]};S.hwb.rgb=function(s){let e=s[0]/360,t=s[1]/100,n=s[2]/100,i=t+n,r;i>1&&(t/=i,n/=i);let o=Math.floor(6*e),l=1-n;r=6*e-o,(o&1)!==0&&(r=1-r);let f=t+r*(l-t),m,b,u;switch(o){default:case 6:case 0:m=l,b=f,u=t;break;case 1:m=f,b=l,u=t;break;case 2:m=t,b=l,u=f;break;case 3:m=t,b=f,u=l;break;case 4:m=f,b=t,u=l;break;case 5:m=l,b=t,u=f;break}return[m*255,b*255,u*255]};S.cmyk.rgb=function(s){let e=s[0]/100,t=s[1]/100,n=s[2]/100,i=s[3]/100,r=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,t*(1-i)+i),l=1-Math.min(1,n*(1-i)+i);return[r*255,o*255,l*255]};S.xyz.rgb=function(s){let e=s[0]/100,t=s[1]/100,n=s[2]/100,i,r,o;return i=e*3.2406+t*-1.5372+n*-.4986,r=e*-.9689+t*1.8758+n*.0415,o=e*.0557+t*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),r=Math.min(Math.max(0,r),1),o=Math.min(Math.max(0,o),1),[i*255,r*255,o*255]};S.xyz.lab=function(s){let e=s[0],t=s[1],n=s[2];e/=95.047,t/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*t-16,r=500*(e-t),o=200*(t-n);return[i,r,o]};S.lab.xyz=function(s){let e=s[0],t=s[1],n=s[2],i,r,o;r=(e+16)/116,i=t/500+r,o=r-n/200;let l=r**3,f=i**3,m=o**3;return r=l>.008856?l:(r-16/116)/7.787,i=f>.008856?f:(i-16/116)/7.787,o=m>.008856?m:(o-16/116)/7.787,i*=95.047,r*=100,o*=108.883,[i,r,o]};S.lab.lch=function(s){let e=s[0],t=s[1],n=s[2],i;i=Math.atan2(n,t)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(t*t+n*n);return[e,o,i]};S.lch.lab=function(s){let e=s[0],t=s[1],i=s[2]/360*2*Math.PI,r=t*Math.cos(i),o=t*Math.sin(i);return[e,r,o]};S.rgb.ansi16=function(s,e=null){let[t,n,i]=s,r=e===null?S.rgb.hsv(s)[2]:e;if(r=Math.round(r/50),r===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return r===2&&(o+=60),o};S.hsv.ansi16=function(s){return S.rgb.ansi16(S.hsv.rgb(s),s[2])};S.rgb.ansi256=function(s){let e=s[0],t=s[1],n=s[2];return e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5)};S.ansi16.rgb=function(s){let e=s%10;if(e===0||e===7)return s>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let t=(~~(s>50)+1)*.5,n=(e&1)*t*255,i=(e>>1&1)*t*255,r=(e>>2&1)*t*255;return[n,i,r]};S.ansi256.rgb=function(s){if(s>=232){let r=(s-232)*10+8;return[r,r,r]}s-=16;let e,t=Math.floor(s/36)/5*255,n=Math.floor((e=s%36)/6)/5*255,i=e%6/5*255;return[t,n,i]};S.rgb.hex=function(s){let t=(((Math.round(s[0])&255)<<16)+((Math.round(s[1])&255)<<8)+(Math.round(s[2])&255)).toString(16).toUpperCase();return"000000".substring(t.length)+t};S.hex.rgb=function(s){let e=s.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=t.split("").map(l=>l+l).join(""));let n=parseInt(t,16),i=n>>16&255,r=n>>8&255,o=n&255;return[i,r,o]};S.rgb.hcg=function(s){let e=s[0]/255,t=s[1]/255,n=s[2]/255,i=Math.max(Math.max(e,t),n),r=Math.min(Math.min(e,t),n),o=i-r,l,f;return o<1?l=r/(1-o):l=0,o<=0?f=0:i===e?f=(t-n)/o%6:i===t?f=2+(n-e)/o:f=4+(e-t)/o,f/=6,f%=1,[f*360,o*100,l*100]};S.hsl.hcg=function(s){let e=s[1]/100,t=s[2]/100,n=t<.5?2*e*t:2*e*(1-t),i=0;return n<1&&(i=(t-.5*n)/(1-n)),[s[0],n*100,i*100]};S.hsv.hcg=function(s){let e=s[1]/100,t=s[2]/100,n=e*t,i=0;return n<1&&(i=(t-n)/(1-n)),[s[0],n*100,i*100]};S.hcg.rgb=function(s){let e=s[0]/360,t=s[1]/100,n=s[2]/100;if(t===0)return[n*255,n*255,n*255];let i=[0,0,0],r=e%1*6,o=r%1,l=1-o,f=0;switch(Math.floor(r)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=l,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=l,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=l}return f=(1-t)*n,[(t*i[0]+f)*255,(t*i[1]+f)*255,(t*i[2]+f)*255]};S.hcg.hsv=function(s){let e=s[1]/100,t=s[2]/100,n=e+t*(1-e),i=0;return n>0&&(i=e/n),[s[0],i*100,n*100]};S.hcg.hsl=function(s){let e=s[1]/100,n=s[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[s[0],i*100,n*100]};S.hcg.hwb=function(s){let e=s[1]/100,t=s[2]/100,n=e+t*(1-e);return[s[0],(n-e)*100,(1-n)*100]};S.hwb.hcg=function(s){let e=s[1]/100,t=s[2]/100,n=1-t,i=n-e,r=0;return i<1&&(r=(n-i)/(1-i)),[s[0],i*100,r*100]};S.apple.rgb=function(s){return[s[0]/65535*255,s[1]/65535*255,s[2]/65535*255]};S.rgb.apple=function(s){return[s[0]/255*65535,s[1]/255*65535,s[2]/255*65535]};S.gray.rgb=function(s){return[s[0]/100*255,s[0]/100*255,s[0]/100*255]};S.gray.hsl=function(s){return[0,0,s[0]]};S.gray.hsv=S.gray.hsl;S.gray.hwb=function(s){return[0,100,s[0]]};S.gray.cmyk=function(s){return[0,0,0,s[0]]};S.gray.lab=function(s){return[s[0],0,0]};S.gray.hex=function(s){let e=Math.round(s[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};S.rgb.gray=function(s){return[(s[0]+s[1]+s[2])/3/255*100]}});var ei=je((Ma,Xs)=>{var Ut=jn();function pr(){let s={},e=Object.keys(Ut);for(let t=e.length,n=0;n<t;n++)s[e[n]]={distance:-1,parent:null};return s}function mr(s){let e=pr(),t=[s];for(e[s].distance=0;t.length;){let n=t.pop(),i=Object.keys(Ut[n]);for(let r=i.length,o=0;o<r;o++){let l=i[o],f=e[l];f.distance===-1&&(f.distance=e[n].distance+1,f.parent=n,t.unshift(l))}}return e}function gr(s,e){return function(t){return e(s(t))}}function br(s,e){let t=[e[s].parent,s],n=Ut[e[s].parent][s],i=e[s].parent;for(;e[i].parent;)t.unshift(e[i].parent),n=gr(Ut[e[i].parent][i],n),i=e[i].parent;return n.conversion=t,n}Xs.exports=function(s){let e=mr(s),t={},n=Object.keys(e);for(let i=n.length,r=0;r<i;r++){let o=n[r];e[o].parent!==null&&(t[o]=br(o,e))}return t}});var ni=je((Sa,ti)=>{var An=jn(),yr=ei(),ct={},wr=Object.keys(An);function Or(s){let e=function(...t){let n=t[0];return n==null?n:(n.length>1&&(t=n),s(t))};return"conversion"in s&&(e.conversion=s.conversion),e}function _r(s){let e=function(...t){let n=t[0];if(n==null)return n;n.length>1&&(t=n);let i=s(t);if(typeof i=="object")for(let r=i.length,o=0;o<r;o++)i[o]=Math.round(i[o]);return i};return"conversion"in s&&(e.conversion=s.conversion),e}wr.forEach(s=>{ct[s]={},Object.defineProperty(ct[s],"channels",{value:An[s].channels}),Object.defineProperty(ct[s],"labels",{value:An[s].labels});let e=yr(s);Object.keys(e).forEach(n=>{let i=e[n];ct[s][n]=_r(i),ct[s][n].raw=Or(i)})});ti.exports=ct});var li=je((Pa,ai)=>{"use strict";var si=(s,e)=>(...t)=>`\x1B[${s(...t)+e}m`,ii=(s,e)=>(...t)=>{let n=s(...t);return`\x1B[${38+e};5;${n}m`},ri=(s,e)=>(...t)=>{let n=s(...t);return`\x1B[${38+e};2;${n[0]};${n[1]};${n[2]}m`},Yt=s=>s,oi=(s,e,t)=>[s,e,t],ft=(s,e,t)=>{Object.defineProperty(s,e,{get:()=>{let n=t();return Object.defineProperty(s,e,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},Mn,ut=(s,e,t,n)=>{Mn===void 0&&(Mn=ni());let i=n?10:0,r={};for(let[o,l]of Object.entries(Mn)){let f=o==="ansi16"?"ansi":o;o===e?r[f]=s(t,i):typeof l=="object"&&(r[f]=s(l[e],i))}return r};function Cr(){let s=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[t,n]of Object.entries(e)){for(let[i,r]of Object.entries(n))e[i]={open:`\x1B[${r[0]}m`,close:`\x1B[${r[1]}m`},n[i]=e[i],s.set(r[0],r[1]);Object.defineProperty(e,t,{value:n,enumerable:!1})}return Object.defineProperty(e,"codes",{value:s,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",ft(e.color,"ansi",()=>ut(si,"ansi16",Yt,!1)),ft(e.color,"ansi256",()=>ut(ii,"ansi256",Yt,!1)),ft(e.color,"ansi16m",()=>ut(ri,"rgb",oi,!1)),ft(e.bgColor,"ansi",()=>ut(si,"ansi16",Yt,!0)),ft(e.bgColor,"ansi256",()=>ut(ii,"ansi256",Yt,!0)),ft(e.bgColor,"ansi16m",()=>ut(ri,"rgb",oi,!0)),e}Object.defineProperty(ai,"exports",{enumerable:!0,get:Cr})});var fi=je(($a,ci)=>{"use strict";ci.exports=(s,e=process.argv)=>{let t=s.startsWith("-")?"":s.length===1?"-":"--",n=e.indexOf(t+s),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var di=je((Ia,hi)=>{"use strict";var Er=require("os"),ui=require("tty"),Oe=fi(),{env:oe}=process,Te;Oe("no-color")||Oe("no-colors")||Oe("color=false")||Oe("color=never")?Te=0:(Oe("color")||Oe("colors")||Oe("color=true")||Oe("color=always"))&&(Te=1);"FORCE_COLOR"in oe&&(oe.FORCE_COLOR==="true"?Te=1:oe.FORCE_COLOR==="false"?Te=0:Te=oe.FORCE_COLOR.length===0?1:Math.min(parseInt(oe.FORCE_COLOR,10),3));function Sn(s){return s===0?!1:{level:s,hasBasic:!0,has256:s>=2,has16m:s>=3}}function Pn(s,e){if(Te===0)return 0;if(Oe("color=16m")||Oe("color=full")||Oe("color=truecolor"))return 3;if(Oe("color=256"))return 2;if(s&&!e&&Te===void 0)return 0;let t=Te||0;if(oe.TERM==="dumb")return t;if(process.platform==="win32"){let n=Er.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in oe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in oe)||oe.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in oe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(oe.TEAMCITY_VERSION)?1:0;if(oe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in oe){let n=parseInt((oe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(oe.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(oe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(oe.TERM)||"COLORTERM"in oe?1:t}function xr(s){let e=Pn(s,s&&s.isTTY);return Sn(e)}hi.exports={supportsColor:xr,stdout:Sn(Pn(!0,ui.isatty(1))),stderr:Sn(Pn(!0,ui.isatty(2)))}});var mi=je((va,pi)=>{"use strict";var jr=(s,e,t)=>{let n=s.indexOf(e);if(n===-1)return s;let i=e.length,r=0,o="";do o+=s.substr(r,n-r)+e+t,r=n+i,n=s.indexOf(e,r);while(n!==-1);return o+=s.substr(r),o},Ar=(s,e,t,n)=>{let i=0,r="";do{let o=s[n-1]==="\r";r+=s.substr(i,(o?n-1:n)-i)+e+(o?`\r
`:`
`)+t,i=n+1,n=s.indexOf(`
`,i)}while(n!==-1);return r+=s.substr(i),r};pi.exports={stringReplaceAll:jr,stringEncaseCRLFWithFirstIndex:Ar}});var Oi=je((Fa,wi)=>{"use strict";var Mr=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,gi=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,Sr=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,Pr=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,$r=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function yi(s){let e=s[0]==="u",t=s[1]==="{";return e&&!t&&s.length===5||s[0]==="x"&&s.length===3?String.fromCharCode(parseInt(s.slice(1),16)):e&&t?String.fromCodePoint(parseInt(s.slice(2,-1),16)):$r.get(s)||s}function Ir(s,e){let t=[],n=e.trim().split(/\s*,\s*/g),i;for(let r of n){let o=Number(r);if(!Number.isNaN(o))t.push(o);else if(i=r.match(Sr))t.push(i[2].replace(Pr,(l,f,m)=>f?yi(f):m));else throw new Error(`Invalid Chalk template style argument: ${r} (in style '${s}')`)}return t}function vr(s){gi.lastIndex=0;let e=[],t;for(;(t=gi.exec(s))!==null;){let n=t[1];if(t[2]){let i=Ir(n,t[2]);e.push([n].concat(i))}else e.push([n])}return e}function bi(s,e){let t={};for(let i of e)for(let r of i.styles)t[r[0]]=i.inverse?null:r.slice(1);let n=s;for(let[i,r]of Object.entries(t))if(!!Array.isArray(r)){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=r.length>0?n[i](...r):n[i]}return n}wi.exports=(s,e)=>{let t=[],n=[],i=[];if(e.replace(Mr,(r,o,l,f,m,b)=>{if(o)i.push(yi(o));else if(f){let u=i.join("");i=[],n.push(t.length===0?u:bi(s,t)(u)),t.push({inverse:l,styles:vr(f)})}else if(m){if(t.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(bi(s,t)(i.join(""))),i=[],t.pop()}else i.push(b)}),n.push(i.join("")),t.length>0){let r=`Chalk template literal is missing ${t.length} closing bracket${t.length===1?"":"s"} (\`}\`)`;throw new Error(r)}return n.join("")}});var Mi=je((Ra,Ai)=>{"use strict";var Et=li(),{stdout:In,stderr:vn}=di(),{stringReplaceAll:Fr,stringEncaseCRLFWithFirstIndex:Rr}=mi(),{isArray:Gt}=Array,Ci=["ansi","ansi","ansi256","ansi16m"],ht=Object.create(null),Nr=(s,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let t=In?In.level:0;s.level=e.level===void 0?t:e.level},Fn=class{constructor(e){return Ei(e)}},Ei=s=>{let e={};return Nr(e,s),e.template=(...t)=>ji(e.template,...t),Object.setPrototypeOf(e,Vt.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=Fn,e.template};function Vt(s){return Ei(s)}for(let[s,e]of Object.entries(Et))ht[s]={get(){let t=kt(this,Rn(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,s,{value:t}),t}};ht.visible={get(){let s=kt(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:s}),s}};var xi=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let s of xi)ht[s]={get(){let{level:e}=this;return function(...t){let n=Rn(Et.color[Ci[e]][s](...t),Et.color.close,this._styler);return kt(this,n,this._isEmpty)}}};for(let s of xi){let e="bg"+s[0].toUpperCase()+s.slice(1);ht[e]={get(){let{level:t}=this;return function(...n){let i=Rn(Et.bgColor[Ci[t]][s](...n),Et.bgColor.close,this._styler);return kt(this,i,this._isEmpty)}}}}var Wr=Object.defineProperties(()=>{},zn(Ie({},ht),{level:{enumerable:!0,get(){return this._generator.level},set(s){this._generator.level=s}}})),Rn=(s,e,t)=>{let n,i;return t===void 0?(n=s,i=e):(n=t.openAll+s,i=e+t.closeAll),{open:s,close:e,openAll:n,closeAll:i,parent:t}},kt=(s,e,t)=>{let n=(...i)=>Gt(i[0])&&Gt(i[0].raw)?_i(n,ji(n,...i)):_i(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,Wr),n._generator=s,n._styler=e,n._isEmpty=t,n},_i=(s,e)=>{if(s.level<=0||!e)return s._isEmpty?"":e;let t=s._styler;if(t===void 0)return e;let{openAll:n,closeAll:i}=t;if(e.indexOf("\x1B")!==-1)for(;t!==void 0;)e=Fr(e,t.close,t.open),t=t.parent;let r=e.indexOf(`
`);return r!==-1&&(e=Rr(e,i,n,r)),n+e+i},$n,ji=(s,...e)=>{let[t]=e;if(!Gt(t)||!Gt(t.raw))return e.join(" ");let n=e.slice(1),i=[t.raw[0]];for(let r=1;r<t.length;r++)i.push(String(n[r-1]).replace(/[{}\\]/g,"\\$&"),String(t.raw[r]));return $n===void 0&&($n=Oi()),$n(s,i.join(""))};Object.defineProperties(Vt.prototype,ht);var Kt=Vt();Kt.supportsColor=In;Kt.stderr=Vt({level:vn?vn.level:0});Kt.stderr.supportsColor=vn;Ai.exports=Kt});var k=class extends Error{constructor(e){super(e||"yargs error"),this.name="YError",Error.captureStackTrace(this,k)}};var Xt=[],bt;function yt(s,e,t,n){bt=n;let i={};if(Object.prototype.hasOwnProperty.call(s,"extends")){if(typeof s.extends!="string")return i;let r=/\.json|\..*rc$/.test(s.extends),o=null;if(r)o=zi(e,s.extends);else try{o=require.resolve(s.extends)}catch{return s}Ti(o),Xt.push(o),i=r?JSON.parse(bt.readFileSync(o,"utf8")):require(s.extends),delete s.extends,i=yt(i,bt.path.dirname(o),t,bt)}return Xt=[],t?Dn(i,s):Object.assign({},i,s)}function Ti(s){if(Xt.indexOf(s)>-1)throw new k(`Circular extended configurations: '${s}'.`)}function zi(s,e){return bt.path.resolve(s,e)}function Dn(s,e){let t={};function n(i){return i&&typeof i=="object"&&!Array.isArray(i)}Object.assign(t,s);for(let i of Object.keys(e))n(e[i])&&n(t[i])?t[i]=Dn(s[i],e[i]):t[i]=e[i];return t}function Bn(){return Di()?0:1}function Di(){return Bi()&&!process.defaultApp}function Bi(){return!!process.versions.electron}function en(s){return s.slice(Bn()+1)}function qn(){return process.argv[Bn()]}var Gn=require("util"),Mt=require("path");function De(s){if(s!==s.toLowerCase()&&s!==s.toUpperCase()||(s=s.toLowerCase()),s.indexOf("-")===-1&&s.indexOf("_")===-1)return s;{let t="",n=!1,i=s.match(/^-+/);for(let r=i?i[0].length:0;r<s.length;r++){let o=s.charAt(r);n&&(n=!1,o=o.toUpperCase()),r!==0&&(o==="-"||o==="_")?n=!0:o!=="-"&&o!=="_"&&(t+=o)}return t}}function xt(s,e){let t=s.toLowerCase();e=e||"-";let n="";for(let i=0;i<s.length;i++){let r=t.charAt(i),o=s.charAt(i);r!==o&&i>0?n+=`${e}${t.charAt(i)}`:n+=o}return n}function jt(s){return s==null?!1:typeof s=="number"||/^0x[0-9a-f]+$/i.test(s)?!0:/^0[^.]/.test(s)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(s)}function Hn(s){if(Array.isArray(s))return s.map(o=>typeof o!="string"?o+"":o);s=s.trim();let e=0,t=null,n=null,i=null,r=[];for(let o=0;o<s.length;o++){if(t=n,n=s.charAt(o),n===" "&&!i){t!==" "&&e++;continue}n===i?i=null:(n==="'"||n==='"')&&!i&&(i=n),r[e]||(r[e]=""),r[e]+=n}return r}var me;(function(s){s.BOOLEAN="boolean",s.STRING="string",s.NUMBER="number",s.ARRAY="array"})(me||(me={}));var Pe,At=class{constructor(e){Pe=e}parse(e,t){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},t),i=Hn(e),r=typeof e=="string",o=qi(Object.assign(Object.create(null),n.alias)),l=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),f=Object.assign(Object.create(null),n.default),m=n.configObjects||[],b=n.envPrefix,u=l["populate--"],g=u?"--":"_",O=Object.create(null),C=Object.create(null),w=n.__||Pe.format,p={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},L=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,D=new RegExp("^--"+l["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(c){let d=typeof c=="object"?c.key:c,_=Object.keys(c).map(function(y){return{boolean:"bools",string:"strings",number:"numbers"}[y]}).filter(Boolean).pop();_&&(p[_][d]=!0),p.arrays[d]=!0,p.keys.push(d)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(c){p.bools[c]=!0,p.keys.push(c)}),[].concat(n.string||[]).filter(Boolean).forEach(function(c){p.strings[c]=!0,p.keys.push(c)}),[].concat(n.number||[]).filter(Boolean).forEach(function(c){p.numbers[c]=!0,p.keys.push(c)}),[].concat(n.count||[]).filter(Boolean).forEach(function(c){p.counts[c]=!0,p.keys.push(c)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(c){p.normalize[c]=!0,p.keys.push(c)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([c,d])=>{typeof d=="number"&&(p.nargs[c]=d,p.keys.push(c))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([c,d])=>{typeof d=="function"&&(p.coercions[c]=d,p.keys.push(c))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(c){p.configs[c]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([c,d])=>{(typeof d=="boolean"||typeof d=="function")&&(p.configs[c]=d)})),gt(n.key,o,n.default,p.arrays),Object.keys(f).forEach(function(c){(p.aliases[c]||[]).forEach(function(d){f[d]=f[c]})});let H=null;Qt();let B=[],q=Object.assign(Object.create(null),{_:[]}),ze={};for(let c=0;c<i.length;c++){let d=i[c],_=d.replace(/^-{3,}/,"---"),y,h,M,x,v,ie;if(d!=="--"&&V(d))pe(d);else if(_.match(/---+(=|$)/)){pe(d);continue}else if(d.match(/^--.+=/)||!l["short-option-groups"]&&d.match(/^-.+=/))x=d.match(/^--?([^=]+)=([\s\S]*)$/),x!==null&&Array.isArray(x)&&x.length>=3&&(F(x[1],p.arrays)?c=et(c,x[1],i,x[2]):F(x[1],p.nargs)!==!1?c=Xe(c,x[1],i,x[2]):G(x[1],x[2],!0));else if(d.match(D)&&l["boolean-negation"])x=d.match(D),x!==null&&Array.isArray(x)&&x.length>=2&&(h=x[1],G(h,F(h,p.arrays)?[!1]:!1));else if(d.match(/^--.+/)||!l["short-option-groups"]&&d.match(/^-[^-]+/))x=d.match(/^--?(.+)/),x!==null&&Array.isArray(x)&&x.length>=2&&(h=x[1],F(h,p.arrays)?c=et(c,h,i):F(h,p.nargs)!==!1?c=Xe(c,h,i):(v=i[c+1],v!==void 0&&(!v.match(/^-/)||v.match(L))&&!F(h,p.bools)&&!F(h,p.counts)||/^(true|false)$/.test(v)?(G(h,v),c++):G(h,z(h))));else if(d.match(/^-.\..+=/))x=d.match(/^-([^=]+)=([\s\S]*)$/),x!==null&&Array.isArray(x)&&x.length>=3&&G(x[1],x[2]);else if(d.match(/^-.\..+/)&&!d.match(L))v=i[c+1],x=d.match(/^-(.\..+)/),x!==null&&Array.isArray(x)&&x.length>=2&&(h=x[1],v!==void 0&&!v.match(/^-/)&&!F(h,p.bools)&&!F(h,p.counts)?(G(h,v),c++):G(h,z(h)));else if(d.match(/^-[^-]+/)&&!d.match(L)){M=d.slice(1,-1).split(""),y=!1;for(let le=0;le<M.length;le++){if(v=d.slice(le+2),M[le+1]&&M[le+1]==="="){ie=d.slice(le+3),h=M[le],F(h,p.arrays)?c=et(c,h,i,ie):F(h,p.nargs)!==!1?c=Xe(c,h,i,ie):G(h,ie),y=!0;break}if(v==="-"){G(M[le],v);continue}if(/[A-Za-z]/.test(M[le])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(v)&&F(v,p.bools)===!1){G(M[le],v),y=!0;break}if(M[le+1]&&M[le+1].match(/\W/)){G(M[le],v),y=!0;break}else G(M[le],z(M[le]))}h=d.slice(-1)[0],!y&&h!=="-"&&(F(h,p.arrays)?c=et(c,h,i):F(h,p.nargs)!==!1?c=Xe(c,h,i):(v=i[c+1],v!==void 0&&(!/^(-|--)[^-]/.test(v)||v.match(L))&&!F(h,p.bools)&&!F(h,p.counts)||/^(true|false)$/.test(v)?(G(h,v),c++):G(h,z(h))))}else if(d.match(/^-[0-9]$/)&&d.match(L)&&F(d.slice(1),p.bools))h=d.slice(1),G(h,z(h));else if(d==="--"){B=i.slice(c+1);break}else if(l["halt-at-non-option"]){B=i.slice(c);break}else pe(d)}ee(q,!0),ee(q,!1),$(q),Y(),$e(q,p.aliases,f,!0),U(q),l["set-placeholder-key"]&&te(q),Object.keys(p.counts).forEach(function(c){K(q,c.split("."))||G(c,0)}),u&&B.length&&(q[g]=[]),B.forEach(function(c){q[g].push(c)}),l["camel-case-expansion"]&&l["strip-dashed"]&&Object.keys(q).filter(c=>c!=="--"&&c.includes("-")).forEach(c=>{delete q[c]}),l["strip-aliased"]&&[].concat(...Object.keys(o).map(c=>o[c])).forEach(c=>{l["camel-case-expansion"]&&c.includes("-")&&delete q[c.split(".").map(d=>De(d)).join(".")],delete q[c]});function pe(c){let d=E("_",c);(typeof d=="string"||typeof d=="number")&&q._.push(d)}function Xe(c,d,_,y){let h,M=F(d,p.nargs);if(M=typeof M!="number"||isNaN(M)?1:M,M===0)return se(y)||(H=Error(w("Argument unexpected for: %s",d))),G(d,z(d)),c;let x=se(y)?0:1;if(l["nargs-eats-options"])_.length-(c+1)+x<M&&(H=Error(w("Not enough arguments following: %s",d))),x=M;else{for(h=c+1;h<_.length&&(!_[h].match(/^-[^0-9]/)||_[h].match(L)||V(_[h]));h++)x++;x<M&&(H=Error(w("Not enough arguments following: %s",d)))}let v=Math.min(x,M);for(!se(y)&&v>0&&(G(d,y),v--),h=c+1;h<v+c+1;h++)G(d,_[h]);return c+v}function et(c,d,_,y){let h=[],M=y||_[c+1],x=F(d,p.nargs);if(F(d,p.bools)&&!/^(true|false)$/.test(M))h.push(!0);else if(se(M)||se(y)&&/^-/.test(M)&&!L.test(M)&&!V(M)){if(f[d]!==void 0){let v=f[d];h=Array.isArray(v)?v:[v]}}else{se(y)||h.push(P(d,y,!0));for(let v=c+1;v<_.length&&!(!l["greedy-arrays"]&&h.length>0||x&&typeof x=="number"&&h.length>=x||(M=_[v],/^-/.test(M)&&!L.test(M)&&!V(M)));v++)c=v,h.push(P(d,M,r))}return typeof x=="number"&&(x&&h.length<x||isNaN(x)&&h.length===0)&&(H=Error(w("Not enough arguments following: %s",d))),G(d,h),c}function G(c,d,_=r){if(/-/.test(c)&&l["camel-case-expansion"]){let M=c.split(".").map(function(x){return De(x)}).join(".");mt(c,M)}let y=P(c,d,_),h=c.split(".");Se(q,h,y),p.aliases[c]&&p.aliases[c].forEach(function(M){let x=M.split(".");Se(q,x,y)}),h.length>1&&l["dot-notation"]&&(p.aliases[h[0]]||[]).forEach(function(M){let x=M.split("."),v=[].concat(h);v.shift(),x=x.concat(v),(p.aliases[c]||[]).includes(x.join("."))||Se(q,x,y)}),F(c,p.normalize)&&!F(c,p.arrays)&&[c].concat(p.aliases[c]||[]).forEach(function(x){Object.defineProperty(ze,x,{enumerable:!0,get(){return d},set(v){d=typeof v=="string"?Pe.normalize(v):v}})})}function mt(c,d){p.aliases[c]&&p.aliases[c].length||(p.aliases[c]=[d],O[d]=!0),p.aliases[d]&&p.aliases[d].length||mt(d,c)}function P(c,d,_){_&&(d=Hi(d)),(F(c,p.bools)||F(c,p.counts))&&typeof d=="string"&&(d=d==="true");let y=Array.isArray(d)?d.map(function(h){return E(c,h)}):E(c,d);return F(c,p.counts)&&(se(y)||typeof y=="boolean")&&(y=tn()),F(c,p.normalize)&&F(c,p.arrays)&&(Array.isArray(d)?y=d.map(h=>Pe.normalize(h)):y=Pe.normalize(d)),y}function E(c,d){return!l["parse-positional-numbers"]&&c==="_"||!F(c,p.strings)&&!F(c,p.bools)&&!Array.isArray(d)&&(jt(d)&&l["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${d}`)))||!se(d)&&F(c,p.numbers))&&(d=Number(d)),d}function $(c){let d=Object.create(null);$e(d,p.aliases,f),Object.keys(p.configs).forEach(function(_){let y=c[_]||d[_];if(y)try{let h=null,M=Pe.resolve(Pe.cwd(),y),x=p.configs[_];if(typeof x=="function"){try{h=x(M)}catch(v){h=v}if(h instanceof Error){H=h;return}}else h=Pe.require(M);W(h)}catch(h){h.name==="PermissionDenied"?H=h:c[_]&&(H=Error(w("Invalid JSON config file: %s",y)))}})}function W(c,d){Object.keys(c).forEach(function(_){let y=c[_],h=d?d+"."+_:_;typeof y=="object"&&y!==null&&!Array.isArray(y)&&l["dot-notation"]?W(y,h):(!K(q,h.split("."))||F(h,p.arrays)&&l["combine-arrays"])&&G(h,y)})}function Y(){typeof m<"u"&&m.forEach(function(c){W(c)})}function ee(c,d){if(typeof b>"u")return;let _=typeof b=="string"?b:"",y=Pe.env();Object.keys(y).forEach(function(h){if(_===""||h.lastIndexOf(_,0)===0){let M=h.split("__").map(function(x,v){return v===0&&(x=x.substring(_.length)),De(x)});(d&&p.configs[M.join(".")]||!d)&&!K(c,M)&&G(M.join("."),y[h])}})}function U(c){let d,_=new Set;Object.keys(c).forEach(function(y){if(!_.has(y)&&(d=F(y,p.coercions),typeof d=="function"))try{let h=E(y,d(c[y]));[].concat(p.aliases[y]||[],y).forEach(M=>{_.add(M),c[M]=h})}catch(h){H=h}})}function te(c){return p.keys.forEach(d=>{~d.indexOf(".")||typeof c[d]>"u"&&(c[d]=void 0)}),c}function $e(c,d,_,y=!1){Object.keys(_).forEach(function(h){K(c,h.split("."))||(Se(c,h.split("."),_[h]),y&&(C[h]=!0),(d[h]||[]).forEach(function(M){K(c,M.split("."))||Se(c,M.split("."),_[h])}))})}function K(c,d){let _=c;l["dot-notation"]||(d=[d.join(".")]),d.slice(0,-1).forEach(function(h){_=_[h]||{}});let y=d[d.length-1];return typeof _!="object"?!1:y in _}function Se(c,d,_){let y=c;l["dot-notation"]||(d=[d.join(".")]),d.slice(0,-1).forEach(function(ie){ie=Un(ie),typeof y=="object"&&y[ie]===void 0&&(y[ie]={}),typeof y[ie]!="object"||Array.isArray(y[ie])?(Array.isArray(y[ie])?y[ie].push({}):y[ie]=[y[ie],{}],y=y[ie][y[ie].length-1]):y=y[ie]});let h=Un(d[d.length-1]),M=F(d.join("."),p.arrays),x=Array.isArray(_),v=l["duplicate-arguments-array"];!v&&F(h,p.nargs)&&(v=!0,(!se(y[h])&&p.nargs[h]===1||Array.isArray(y[h])&&y[h].length===p.nargs[h])&&(y[h]=void 0)),_===tn()?y[h]=tn(y[h]):Array.isArray(y[h])?v&&M&&x?y[h]=l["flatten-duplicate-arrays"]?y[h].concat(_):(Array.isArray(y[h][0])?y[h]:[y[h]]).concat([_]):!v&&Boolean(M)===Boolean(x)?y[h]=_:y[h]=y[h].concat([_]):y[h]===void 0&&M?y[h]=x?_:[_]:v&&!(y[h]===void 0||F(h,p.counts)||F(h,p.bools))?y[h]=[y[h],_]:y[h]=_}function gt(...c){c.forEach(function(d){Object.keys(d||{}).forEach(function(_){p.aliases[_]||(p.aliases[_]=[].concat(o[_]||[]),p.aliases[_].concat(_).forEach(function(y){if(/-/.test(y)&&l["camel-case-expansion"]){let h=De(y);h!==_&&p.aliases[_].indexOf(h)===-1&&(p.aliases[_].push(h),O[h]=!0)}}),p.aliases[_].concat(_).forEach(function(y){if(y.length>1&&/[A-Z]/.test(y)&&l["camel-case-expansion"]){let h=xt(y,"-");h!==_&&p.aliases[_].indexOf(h)===-1&&(p.aliases[_].push(h),O[h]=!0)}}),p.aliases[_].forEach(function(y){p.aliases[y]=[_].concat(p.aliases[_].filter(function(h){return y!==h}))}))})})}function F(c,d){let _=[].concat(p.aliases[c]||[],c),y=Object.keys(d),h=_.find(M=>y.includes(M));return h?d[h]:!1}function tt(c){let d=Object.keys(p);return[].concat(d.map(y=>p[y])).some(function(y){return Array.isArray(y)?y.includes(c):y[c]})}function Nn(c,...d){return[].concat(...d).some(function(y){let h=c.match(y);return h&&tt(h[1])})}function R(c){if(c.match(L)||!c.match(/^-[^-]+/))return!1;let d=!0,_,y=c.slice(1).split("");for(let h=0;h<y.length;h++){if(_=c.slice(h+2),!tt(y[h])){d=!1;break}if(y[h+1]&&y[h+1]==="="||_==="-"||/[A-Za-z]/.test(y[h])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(_)||y[h+1]&&y[h+1].match(/\W/))break}return d}function V(c){return l["unknown-options-as-args"]&&ne(c)}function ne(c){return c=c.replace(/^-{3,}/,"--"),c.match(L)||R(c)?!1:!Nn(c,/^-+([^=]+?)=[\s\S]*$/,D,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function z(c){return!F(c,p.bools)&&!F(c,p.counts)&&`${c}`in f?f[c]:ae(Z(c))}function ae(c){return{[me.BOOLEAN]:!0,[me.STRING]:"",[me.NUMBER]:void 0,[me.ARRAY]:[]}[c]}function Z(c){let d=me.BOOLEAN;return F(c,p.strings)?d=me.STRING:F(c,p.numbers)?d=me.NUMBER:F(c,p.bools)?d=me.BOOLEAN:F(c,p.arrays)&&(d=me.ARRAY),d}function se(c){return c===void 0}function Qt(){Object.keys(p.counts).find(c=>F(c,p.arrays)?(H=Error(w("Invalid configuration: %s, opts.count excludes opts.array.",c)),!0):F(c,p.nargs)?(H=Error(w("Invalid configuration: %s, opts.count excludes opts.narg.",c)),!0):!1)}return{aliases:Object.assign({},p.aliases),argv:Object.assign(ze,q),configuration:l,defaulted:Object.assign({},C),error:H,newAliases:Object.assign({},O)}}};function qi(s){let e=[],t=Object.create(null),n=!0;for(Object.keys(s).forEach(function(i){e.push([].concat(s[i],i))});n;){n=!1;for(let i=0;i<e.length;i++)for(let r=i+1;r<e.length;r++)if(e[i].filter(function(l){return e[r].indexOf(l)!==-1}).length){e[i]=e[i].concat(e[r]),e.splice(r,1),n=!0;break}}return e.forEach(function(i){i=i.filter(function(o,l,f){return f.indexOf(o)===l});let r=i.pop();r!==void 0&&typeof r=="string"&&(t[r]=i)}),t}function tn(s){return s!==void 0?s+1:1}function Un(s){return s==="__proto__"?"___proto___":s}function Hi(s){return typeof s=="string"&&(s[0]==="'"||s[0]==='"')&&s[s.length-1]===s[0]?s.substring(1,s.length-1):s}var Vn=require("fs");var Yn=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<Yn)throw Error(`yargs parser supports a minimum Node.js version of ${Yn}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var Ui=process?process.env:{},kn=new At({cwd:process.cwd,env:()=>Ui,format:Gn.format,normalize:Mt.normalize,resolve:Mt.resolve,require:s=>{if(typeof require<"u")return require(s);if(s.match(/\.json$/))return JSON.parse((0,Vn.readFileSync)(s,"utf8"));throw Error("only .json config files are supported in ESM")}}),wt=function(e,t){return kn.parse(e.slice(),t).argv};wt.detailed=function(s,e){return kn.parse(s.slice(),e)};wt.camelCase=De;wt.decamelize=xt;wt.looksLikeNumber=jt;var nn=wt;var vt=require("assert");var Yi={right:Ji,center:Qi},Gi=0,St=1,Vi=2,Pt=3,sn=class{constructor(e){var t;this.width=e.width,this.wrap=(t=e.wrap)!==null&&t!==void 0?t:!0,this.rows=[]}span(...e){let t=this.div(...e);t.span=!0}resetOutput(){this.rows=[]}div(...e){if(e.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...e)&&typeof e[0]=="string")return this.applyLayoutDSL(e[0]);let t=e.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(t),t}shouldApplyLayoutDSL(...e){return e.length===1&&typeof e[0]=="string"&&/[\t\n]/.test(e[0])}applyLayoutDSL(e){let t=e.split(`
`).map(i=>i.split("	")),n=0;return t.forEach(i=>{i.length>1&&fe.stringWidth(i[0])>n&&(n=Math.min(Math.floor(this.width*.5),fe.stringWidth(i[0])))}),t.forEach(i=>{this.div(...i.map((r,o)=>({text:r.trim(),padding:this.measurePadding(r),width:o===0&&i.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(e){return{text:e,padding:this.measurePadding(e)}}measurePadding(e){let t=fe.stripAnsi(e);return[0,t.match(/\s*$/)[0].length,0,t.match(/^\s*/)[0].length]}toString(){let e=[];return this.rows.forEach(t=>{this.rowToString(t,e)}),e.filter(t=>!t.hidden).map(t=>t.text).join(`
`)}rowToString(e,t){return this.rasterize(e).forEach((n,i)=>{let r="";n.forEach((o,l)=>{let{width:f}=e[l],m=this.negatePadding(e[l]),b=o;m>fe.stringWidth(o)&&(b+=" ".repeat(m-fe.stringWidth(o))),e[l].align&&e[l].align!=="left"&&this.wrap&&(b=Yi[e[l].align](b,m),fe.stringWidth(b)<m&&(b+=" ".repeat((f||0)-fe.stringWidth(b)-1)));let u=e[l].padding||[0,0,0,0];u[Pt]&&(r+=" ".repeat(u[Pt])),r+=Kn(e[l],b,"| "),r+=b,r+=Kn(e[l],b," |"),u[St]&&(r+=" ".repeat(u[St])),i===0&&t.length>0&&(r=this.renderInline(r,t[t.length-1]))}),t.push({text:r.replace(/ +$/,""),span:e.span})}),t}renderInline(e,t){let n=e.match(/^ */),i=n?n[0].length:0,r=t.text,o=fe.stringWidth(r.trimRight());return t.span?this.wrap?i<o?e:(t.hidden=!0,r.trimRight()+" ".repeat(i-o)+e.trimLeft()):(t.hidden=!0,r+e):e}rasterize(e){let t=[],n=this.columnWidths(e),i;return e.forEach((r,o)=>{r.width=n[o],this.wrap?i=fe.wrap(r.text,this.negatePadding(r),{hard:!0}).split(`
`):i=r.text.split(`
`),r.border&&(i.unshift("."+"-".repeat(this.negatePadding(r)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(r)+2)+"'")),r.padding&&(i.unshift(...new Array(r.padding[Gi]||0).fill("")),i.push(...new Array(r.padding[Vi]||0).fill(""))),i.forEach((l,f)=>{t[f]||t.push([]);let m=t[f];for(let b=0;b<o;b++)m[b]===void 0&&m.push("");m.push(l)})}),t}negatePadding(e){let t=e.width||0;return e.padding&&(t-=(e.padding[Pt]||0)+(e.padding[St]||0)),e.border&&(t-=4),t}columnWidths(e){if(!this.wrap)return e.map(o=>o.width||fe.stringWidth(o.text));let t=e.length,n=this.width,i=e.map(o=>{if(o.width)return t--,n-=o.width,o.width}),r=t?Math.floor(n/t):0;return i.map((o,l)=>o===void 0?Math.max(r,ki(e[l])):o)}};function Kn(s,e,t){return s.border?/[.']-+[.']/.test(e)?"":e.trim().length!==0?t:"  ":""}function ki(s){let e=s.padding||[],t=1+(e[Pt]||0)+(e[St]||0);return s.border?t+4:t}function Ki(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function Ji(s,e){s=s.trim();let t=fe.stringWidth(s);return t<e?" ".repeat(e-t)+s:s}function Qi(s,e){s=s.trim();let t=fe.stringWidth(s);return t>=e?s:" ".repeat(e-t>>1)+s}var fe;function Jn(s,e){return fe=e,new sn({width:(s==null?void 0:s.width)||Ki(),wrap:s==null?void 0:s.wrap})}var Qn=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function rn(s){return s.replace(Qn,"")}function Zn(s,e){let[t,n]=s.match(Qn)||["",""];s=rn(s);let i="";for(let r=0;r<s.length;r++)r!==0&&r%e===0&&(i+=`
`),i+=s.charAt(r);return t&&n&&(i=`${t}${i}${n}`),i}function on(s){return Jn(s,{stringWidth:e=>[...e].length,stripAnsi:rn,wrap:Zn})}var nt=require("path"),$t=require("fs");function Xn(s,e){let t=(0,nt.resolve)(".",s),n;for((0,$t.statSync)(t).isDirectory()||(t=(0,nt.dirname)(t));;){if(n=e(t,(0,$t.readdirSync)(t)),n)return(0,nt.resolve)(t,n);if(t=(0,nt.dirname)(n=t),n===t)break}}var os=require("util"),as=require("fs"),ls=require("url");var Ee=require("path");var st=require("fs"),es=require("util"),ts=require("path"),ns={fs:{readFileSync:st.readFileSync,writeFile:st.writeFile},format:es.format,resolve:ts.resolve,exists:s=>{try{return(0,st.statSync)(s).isFile()}catch{return!1}}};var Ce,an=class{constructor(e){e=e||{},this.directory=e.directory||"./locales",this.updateFiles=typeof e.updateFiles=="boolean"?e.updateFiles:!0,this.locale=e.locale||"en",this.fallbackToLanguage=typeof e.fallbackToLanguage=="boolean"?e.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...e){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let t=e.shift(),n=function(){};return typeof e[e.length-1]=="function"&&(n=e.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][t]&&this.updateFiles?(this.cache[this.locale][t]=t,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),Ce.format.apply(Ce.format,[this.cache[this.locale][t]||t].concat(e))}__n(){let e=Array.prototype.slice.call(arguments),t=e.shift(),n=e.shift(),i=e.shift(),r=function(){};typeof e[e.length-1]=="function"&&(r=e.pop()),this.cache[this.locale]||this._readLocaleFile();let o=i===1?t:n;this.cache[this.locale][t]&&(o=this.cache[this.locale][t][i===1?"one":"other"]),!this.cache[this.locale][t]&&this.updateFiles?(this.cache[this.locale][t]={one:t,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:r})):r();let l=[o];return~o.indexOf("%d")&&l.push(i),Ce.format.apply(Ce.format,l.concat(e))}setLocale(e){this.locale=e}getLocale(){return this.locale}updateLocale(e){this.cache[this.locale]||this._readLocaleFile();for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.cache[this.locale][t]=e[t])}_taggedLiteral(e,...t){let n="";return e.forEach(function(i,r){let o=t[r+1];n+=i,typeof o<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(t,1)))}_enqueueWrite(e){this.writeQueue.push(e),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let e=this,t=this.writeQueue[0],n=t.directory,i=t.locale,r=t.cb,o=this._resolveLocaleFile(n,i),l=JSON.stringify(this.cache[i],null,2);Ce.fs.writeFile(o,l,"utf-8",function(f){e.writeQueue.shift(),e.writeQueue.length>0&&e._processWriteQueue(),r(f)})}_readLocaleFile(){let e={},t=this._resolveLocaleFile(this.directory,this.locale);try{Ce.fs.readFileSync&&(e=JSON.parse(Ce.fs.readFileSync(t,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+t),n.code==="ENOENT")e={};else throw n}this.cache[this.locale]=e}_resolveLocaleFile(e,t){let n=Ce.resolve(e,"./",t+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~t.lastIndexOf("_")){let i=Ce.resolve(e,"./",t.split("_")[0]+".json");this._fileExistsSync(i)&&(n=i)}return n}_fileExistsSync(e){return Ce.exists(e)}};function ss(s,e){Ce=e;let t=new an(s);return{__:t.__.bind(t),__n:t.__n.bind(t),setLocale:t.setLocale.bind(t),getLocale:t.getLocale.bind(t),updateLocale:t.updateLocale.bind(t),locale:t.locale}}var Zi=s=>ss(s,ns),is=Zi;var tr={},Xi="require is not supported by ESM",rs="loading a directory of commands is not supported yet for ESM",It;try{It=(0,ls.fileURLToPath)(tr.url)}catch{It=process.cwd()}var er=It.split("node_modules")[0],ln={assert:{notStrictEqual:vt.notStrictEqual,strictEqual:vt.strictEqual},cliui:on,findUp:Xn,getEnv:s=>process.env[s],inspect:os.inspect,getCallerFile:()=>{throw new k(rs)},getProcessArgvBin:qn,mainFilename:er||process.cwd(),Parser:nn,path:{basename:Ee.basename,dirname:Ee.dirname,extname:Ee.extname,relative:Ee.relative,resolve:Ee.resolve},process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(s,e)=>process.emitWarning(s,e),execPath:()=>process.execPath,exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:as.readFileSync,require:()=>{throw new k(Xi)},requireDirectory:()=>{throw new k(rs)},stringWidth:s=>[...s].length,y18n:is({directory:(0,Ee.resolve)(It,"../../../locales"),updateFiles:!1})};function ce(s,e,t,n){t.assert.notStrictEqual(s,e,n)}function cn(s,e){e.assert.strictEqual(typeof s,"string")}function it(s){return Object.keys(s)}function J(s){return!!s&&!!s.then&&typeof s.then=="function"}function ve(s){let t=s.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,i=t.shift();if(!i)throw new Error(`No command found in: ${s}`);let r={cmd:i.replace(n,""),demanded:[],optional:[]};return t.forEach((o,l)=>{let f=!1;o=o.replace(/\s/g,""),/\.+[\]>]/.test(o)&&l===t.length-1&&(f=!0),/^\[/.test(o)?r.optional.push({cmd:o.replace(n,"").split("|"),variadic:f}):r.demanded.push({cmd:o.replace(n,"").split("|"),variadic:f})}),r}var nr=["first","second","third","fourth","fifth","sixth"];function j(s,e,t){function n(){return typeof s=="object"?[{demanded:[],optional:[]},s,e]:[ve(`cmd ${s}`),e,t]}try{let i=0,[r,o,l]=n(),f=[].slice.call(o);for(;f.length&&f[f.length-1]===void 0;)f.pop();let m=l||f.length;if(m<r.demanded.length)throw new k(`Not enough arguments provided. Expected ${r.demanded.length} but received ${f.length}.`);let b=r.demanded.length+r.optional.length;if(m>b)throw new k(`Too many arguments provided. Expected max ${b} but received ${m}.`);r.demanded.forEach(u=>{let g=f.shift(),O=cs(g);u.cmd.filter(w=>w===O||w==="*").length===0&&fs(O,u.cmd,i),i+=1}),r.optional.forEach(u=>{if(f.length===0)return;let g=f.shift(),O=cs(g);u.cmd.filter(w=>w===O||w==="*").length===0&&fs(O,u.cmd,i),i+=1})}catch(i){console.warn(i.stack)}}function cs(s){return Array.isArray(s)?"array":s===null?"null":typeof s}function fs(s,e,t){throw new k(`Invalid ${nr[t]||"manyith"} argument. Expected ${e.join(" or ")} but received ${s}.`)}var Ft=class{constructor(e){this.globalMiddleware=[],this.frozens=[],this.yargs=e}addMiddleware(e,t,n=!0,i=!1){if(j("<array|function> [boolean] [boolean] [boolean]",[e,t,n],arguments.length),Array.isArray(e)){for(let r=0;r<e.length;r++){if(typeof e[r]!="function")throw Error("middleware must be a function");let o=e[r];o.applyBeforeValidation=t,o.global=n}Array.prototype.push.apply(this.globalMiddleware,e)}else if(typeof e=="function"){let r=e;r.applyBeforeValidation=t,r.global=n,r.mutates=i,this.globalMiddleware.push(e)}return this.yargs}addCoerceMiddleware(e,t){let n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let r=[...n[t]||[],t];return i.option?!r.includes(i.option):!0}),e.option=t,this.addMiddleware(e,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let e=this.frozens.pop();e!==void 0&&(this.globalMiddleware=e)}reset(){this.globalMiddleware=this.globalMiddleware.filter(e=>e.global)}};function us(s){return s?s.map(e=>(e.applyBeforeValidation=!1,e)):[]}function Be(s,e,t,n){return t.reduce((i,r)=>{if(r.applyBeforeValidation!==n)return i;if(r.mutates){if(r.applied)return i;r.applied=!0}if(J(i))return i.then(o=>Promise.all([o,r(o,e)])).then(([o,l])=>Object.assign(o,l));{let o=r(i,e);return J(o)?o.then(l=>Object.assign(i,l)):Object.assign(i,o)}},s)}function qe(s,e,t=n=>{throw n}){try{let n=sr(s)?s():s;return J(n)?n.then(i=>e(i)):e(n)}catch(n){return t(n)}}function sr(s){return typeof s=="function"}function fn(s){if(typeof require>"u")return null;for(let e=0,t=Object.keys(require.cache),n;e<t.length;e++)if(n=require.cache[t[e]],n.exports===s)return n;return null}var rt=/(^\*)|(^\$0)/,un=class{constructor(e,t,n,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=e,this.globalMiddleware=n,this.validation=t}addDirectory(e,t,n,i){i=i||{},typeof i.recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let r=typeof i.visit=="function"?i.visit:o=>o;i.visit=(o,l,f)=>{let m=r(o,l,f);if(m){if(this.requireCache.has(l))return m;this.requireCache.add(l),this.addHandler(m)}return m},this.shim.requireDirectory({require:t,filename:n},e,i)}addHandler(e,t,n,i,r,o){let l=[],f=us(r);if(i=i||(()=>{}),Array.isArray(e))if(ir(e))[e,...l]=e;else for(let m of e)this.addHandler(m);else if(or(e)){let m=Array.isArray(e.command)||typeof e.command=="string"?e.command:this.moduleName(e);e.aliases&&(m=[].concat(m).concat(e.aliases)),this.addHandler(m,this.extractDesc(e),e.builder,e.handler,e.middlewares,e.deprecated);return}else if(hs(n)){this.addHandler([e].concat(l),t,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof e=="string"){let m=ve(e);l=l.map(g=>ve(g).cmd);let b=!1,u=[m.cmd].concat(l).filter(g=>rt.test(g)?(b=!0,!1):!0);u.length===0&&b&&u.push("$0"),b&&(m.cmd=u[0],l=u.slice(1),e=e.replace(rt,m.cmd)),l.forEach(g=>{this.aliasMap[g]=m.cmd}),t!==!1&&this.usage.command(e,t,b,l,o),this.handlers[m.cmd]={original:e,description:t,handler:i,builder:n||{},middlewares:f,deprecated:o,demanded:m.demanded,optional:m.optional},b&&(this.defaultCommand=this.handlers[m.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(e,t,n,i,r,o){let l=this.handlers[e]||this.handlers[this.aliasMap[e]]||this.defaultCommand,f=t.getInternalMethods().getContext(),m=f.commands.slice(),b=!e;e&&(f.commands.push(e),f.fullCommands.push(l.original));let u=this.applyBuilderUpdateUsageAndParse(b,l,t,n.aliases,m,i,r,o);return J(u)?u.then(g=>this.applyMiddlewareAndGetResult(b,l,g.innerArgv,f,r,g.aliases,t)):this.applyMiddlewareAndGetResult(b,l,u.innerArgv,f,r,u.aliases,t)}applyBuilderUpdateUsageAndParse(e,t,n,i,r,o,l,f){let m=t.builder,b=n;if(Rt(m)){let u=m(n.getInternalMethods().reset(i),f);if(J(u))return u.then(g=>(b=ps(g)?g:n,this.parseAndUpdateUsage(e,t,b,r,o,l)))}else rr(m)&&(b=n.getInternalMethods().reset(i),Object.keys(t.builder).forEach(u=>{b.option(u,m[u])}));return this.parseAndUpdateUsage(e,t,b,r,o,l)}parseAndUpdateUsage(e,t,n,i,r,o){e&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,t),t.description);let l=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,r,o);return J(l)?l.then(f=>({aliases:n.parsed.aliases,innerArgv:f})):{aliases:n.parsed.aliases,innerArgv:l}}shouldUpdateUsage(e){return!e.getInternalMethods().getUsageInstance().getUsageDisabled()&&e.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(e,t){let n=rt.test(t.original)?t.original.replace(rt,"").trim():t.original,i=e.filter(r=>!rt.test(r));return i.push(n),`$0 ${i.join(" ")}`}applyMiddlewareAndGetResult(e,t,n,i,r,o,l){let f={};if(r)return n;l.getInternalMethods().getHasOutput()||(f=this.populatePositionals(t,n,i,l));let m=this.globalMiddleware.getMiddleware().slice(0).concat(t.middlewares);if(n=Be(n,l,m,!0),!l.getInternalMethods().getHasOutput()){let b=l.getInternalMethods().runValidation(o,f,l.parsed.error,e);n=qe(n,u=>(b(u),u))}if(t.handler&&!l.getInternalMethods().getHasOutput()){l.getInternalMethods().setHasOutput();let b=!!l.getOptions().configuration["populate--"];l.getInternalMethods().postProcess(n,b,!1,!1),n=Be(n,l,m,!1),n=qe(n,u=>{let g=t.handler(u);return J(g)?g.then(()=>u):u}),e||l.getInternalMethods().getUsageInstance().cacheHelpMessage(),J(n)&&!l.getInternalMethods().hasParseCallback()&&n.catch(u=>{try{l.getInternalMethods().getUsageInstance().fail(null,u)}catch{}})}return e||(i.commands.pop(),i.fullCommands.pop()),n}populatePositionals(e,t,n,i){t._=t._.slice(n.commands.length);let r=e.demanded.slice(0),o=e.optional.slice(0),l={};for(this.validation.positionalCount(r.length,t._.length);r.length;){let f=r.shift();this.populatePositional(f,t,l)}for(;o.length;){let f=o.shift();this.populatePositional(f,t,l)}return t._=n.commands.concat(t._.map(f=>""+f)),this.postProcessPositionals(t,l,this.cmdToParseOptions(e.original),i),l}populatePositional(e,t,n){let i=e.cmd[0];e.variadic?n[i]=t._.splice(0).map(String):t._.length&&(n[i]=[String(t._.shift())])}cmdToParseOptions(e){let t={array:[],default:{},alias:{},demand:{}},n=ve(e);return n.demanded.forEach(i=>{let[r,...o]=i.cmd;i.variadic&&(t.array.push(r),t.default[r]=[]),t.alias[r]=o,t.demand[r]=!0}),n.optional.forEach(i=>{let[r,...o]=i.cmd;i.variadic&&(t.array.push(r),t.default[r]=[]),t.alias[r]=o}),t}postProcessPositionals(e,t,n,i){let r=Object.assign({},i.getOptions());r.default=Object.assign(n.default,r.default);for(let m of Object.keys(n.alias))r.alias[m]=(r.alias[m]||[]).concat(n.alias[m]);r.array=r.array.concat(n.array),r.config={};let o=[];if(Object.keys(t).forEach(m=>{t[m].map(b=>{r.configuration["unknown-options-as-args"]&&(r.key[m]=!0),o.push(`--${m}`),o.push(b)})}),!o.length)return;let l=Object.assign({},r.configuration,{"populate--":!1}),f=this.shim.Parser.detailed(o,Object.assign({},r,{configuration:l}));if(f.error)i.getInternalMethods().getUsageInstance().fail(f.error.message,f.error);else{let m=Object.keys(t);Object.keys(t).forEach(u=>{m.push(...f.aliases[u])});let b=i.getOptions().default;Object.keys(f.argv).forEach(u=>{m.includes(u)&&(t[u]||(t[u]=f.argv[u]),!Object.hasOwnProperty.call(b,u)&&Object.hasOwnProperty.call(e,u)&&Object.hasOwnProperty.call(f.argv,u)&&(Array.isArray(e[u])||Array.isArray(f.argv[u]))?e[u]=[].concat(e[u],f.argv[u]):e[u]=f.argv[u])})}}runDefaultBuilderOn(e){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(e)){let n=rt.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");e.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}let t=this.defaultCommand.builder;if(Rt(t))return t(e,!0);hs(t)||Object.keys(t).forEach(n=>{e.option(n,t[n])})}moduleName(e){let t=fn(e);if(!t)throw new Error(`No command name given for module: ${this.shim.inspect(e)}`);return this.commandFromFilename(t.filename)}commandFromFilename(e){return this.shim.path.basename(e,this.shim.path.extname(e))}extractDesc({describe:e,description:t,desc:n}){for(let i of[e,t,n]){if(typeof i=="string"||i===!1)return i;ce(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let e=this.frozens.pop();ce(e,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=e}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function ds(s,e,t,n){return new un(s,e,t,n)}function hs(s){return typeof s=="object"&&!!s.builder&&typeof s.handler=="function"}function ir(s){return s.every(e=>typeof e=="string")}function Rt(s){return typeof s=="function"}function rr(s){return typeof s=="object"}function or(s){return typeof s=="object"&&!Array.isArray(s)}function Fe(s={},e=()=>!0){let t={};return it(s).forEach(n=>{e(n,s[n])&&(t[n]=s[n])}),t}function Re(s){typeof process>"u"||[process.stdout,process.stderr].forEach(e=>{let t=e;t._handle&&t.isTTY&&typeof t._handle.setBlocking=="function"&&t._handle.setBlocking(s)})}function ar(s){return typeof s=="boolean"}function gs(s,e){let t=e.y18n.__,n={},i=[];n.failFn=function(E){i.push(E)};let r=null,o=null,l=!0;n.showHelpOnFail=function(E=!0,$){let[W,Y]=typeof E=="string"?[!0,E]:[E,$];return s.getInternalMethods().isGlobalContext()&&(o=Y),r=Y,l=W,n};let f=!1;n.fail=function(E,$){let W=s.getInternalMethods().getLoggerInstance();if(i.length)for(let Y=i.length-1;Y>=0;--Y){let ee=i[Y];if(ar(ee)){if($)throw $;if(E)throw Error(E)}else ee(E,$,n)}else{if(s.getExitProcess()&&Re(!0),!f){f=!0,l&&(s.showHelp("error"),W.error()),(E||$)&&W.error(E||$);let Y=r||o;Y&&((E||$)&&W.error(""),W.error(Y))}if($=$||new k(E),s.getExitProcess())return s.exit(1);if(s.getInternalMethods().hasParseCallback())return s.exit(1,$);throw $}};let m=[],b=!1;n.usage=(P,E)=>P===null?(b=!0,m=[],n):(b=!1,m.push([P,E||""]),n),n.getUsage=()=>m,n.getUsageDisabled=()=>b,n.getPositionalGroupName=()=>t("Positionals:");let u=[];n.example=(P,E)=>{u.push([P,E||""])};let g=[];n.command=function(E,$,W,Y,ee=!1){W&&(g=g.map(U=>(U[2]=!1,U))),g.push([E,$||"",W,Y,ee])},n.getCommands=()=>g;let O={};n.describe=function(E,$){Array.isArray(E)?E.forEach(W=>{n.describe(W,$)}):typeof E=="object"?Object.keys(E).forEach(W=>{n.describe(W,E[W])}):O[E]=$},n.getDescriptions=()=>O;let C=[];n.epilog=P=>{C.push(P)};let w=!1,p;n.wrap=P=>{w=!0,p=P};function L(){return w||(p=et(),w=!0),p}let D="__yargsString__:";n.deferY18nLookup=P=>D+P,n.help=function(){if(q)return q;B();let E=s.customScriptName?s.$0:e.path.basename(s.$0),$=s.getDemandedOptions(),W=s.getDemandedCommands(),Y=s.getDeprecatedOptions(),ee=s.getGroups(),U=s.getOptions(),te=[];te=te.concat(Object.keys(O)),te=te.concat(Object.keys($)),te=te.concat(Object.keys(W)),te=te.concat(Object.keys(U.default)),te=te.filter(pe),te=Object.keys(te.reduce((R,V)=>(V!=="_"&&(R[V]=!0),R),{}));let $e=L(),K=e.cliui({width:$e,wrap:!!$e});if(!b){if(m.length)m.forEach(R=>{K.div({text:`${R[0].replace(/\$0/g,E)}`}),R[1]&&K.div({text:`${R[1]}`,padding:[1,0,0,0]})}),K.div();else if(g.length){let R=null;W._?R=`${E} <${t("command")}>
`:R=`${E} [${t("command")}]
`,K.div(`${R}`)}}if(g.length>1||g.length===1&&!g[0][2]){K.div(t("Commands:"));let R=s.getInternalMethods().getContext(),V=R.commands.length?`${R.commands.join(" ")} `:"";s.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(g=g.sort((z,ae)=>z[0].localeCompare(ae[0])));let ne=E?`${E} `:"";g.forEach(z=>{let ae=`${ne}${V}${z[0].replace(/^\$0 ?/,"")}`;K.span({text:ae,padding:[0,2,0,2],width:H(g,$e,`${E}${V}`)+4},{text:z[1]});let Z=[];z[2]&&Z.push(`[${t("default")}]`),z[3]&&z[3].length&&Z.push(`[${t("aliases:")} ${z[3].join(", ")}]`),z[4]&&(typeof z[4]=="string"?Z.push(`[${t("deprecated: %s",z[4])}]`):Z.push(`[${t("deprecated")}]`)),Z.length?K.div({text:Z.join(" "),padding:[0,0,0,2],align:"right"}):K.div()}),K.div()}let Se=(Object.keys(U.alias)||[]).concat(Object.keys(s.parsed.newAliases)||[]);te=te.filter(R=>!s.parsed.newAliases[R]&&Se.every(V=>(U.alias[V]||[]).indexOf(R)===-1));let gt=t("Options:");ee[gt]||(ee[gt]=[]),ze(te,U.alias,ee,gt);let F=R=>/^--/.test(Nt(R)),tt=Object.keys(ee).filter(R=>ee[R].length>0).map(R=>{let V=ee[R].filter(pe).map(ne=>{if(Se.includes(ne))return ne;for(let z=0,ae;(ae=Se[z])!==void 0;z++)if((U.alias[ae]||[]).includes(ne))return ae;return ne});return{groupName:R,normalizedKeys:V}}).filter(({normalizedKeys:R})=>R.length>0).map(({groupName:R,normalizedKeys:V})=>{let ne=V.reduce((z,ae)=>(z[ae]=[ae].concat(U.alias[ae]||[]).map(Z=>R===n.getPositionalGroupName()?Z:(/^[0-9]$/.test(Z)?U.boolean.includes(ae)?"-":"--":Z.length>1?"--":"-")+Z).sort((Z,se)=>F(Z)===F(se)?0:F(Z)?1:-1).join(", "),z),{});return{groupName:R,normalizedKeys:V,switches:ne}});if(tt.filter(({groupName:R})=>R!==n.getPositionalGroupName()).some(({normalizedKeys:R,switches:V})=>!R.every(ne=>F(V[ne])))&&tt.filter(({groupName:R})=>R!==n.getPositionalGroupName()).forEach(({normalizedKeys:R,switches:V})=>{R.forEach(ne=>{F(V[ne])&&(V[ne]=lr(V[ne],4))})}),tt.forEach(({groupName:R,normalizedKeys:V,switches:ne})=>{K.div(R),V.forEach(z=>{let ae=ne[z],Z=O[z]||"",se=null;Z.includes(D)&&(Z=t(Z.substring(D.length))),U.boolean.includes(z)&&(se=`[${t("boolean")}]`),U.count.includes(z)&&(se=`[${t("count")}]`),U.string.includes(z)&&(se=`[${t("string")}]`),U.normalize.includes(z)&&(se=`[${t("string")}]`),U.array.includes(z)&&(se=`[${t("array")}]`),U.number.includes(z)&&(se=`[${t("number")}]`);let Qt=d=>typeof d=="string"?`[${t("deprecated: %s",d)}]`:`[${t("deprecated")}]`,c=[z in Y?Qt(Y[z]):null,se,z in $?`[${t("required")}]`:null,U.choices&&U.choices[z]?`[${t("choices:")} ${n.stringifiedValues(U.choices[z])}]`:null,Xe(U.default[z],U.defaultDescription[z])].filter(Boolean).join(" ");K.span({text:Nt(ae),padding:[0,2,0,2+ms(ae)],width:H(ne,$e)+4},Z),c?K.div({text:c,padding:[0,0,0,2],align:"right"}):K.div()}),K.div()}),u.length&&(K.div(t("Examples:")),u.forEach(R=>{R[0]=R[0].replace(/\$0/g,E)}),u.forEach(R=>{R[1]===""?K.div({text:R[0],padding:[0,2,0,2]}):K.div({text:R[0],padding:[0,2,0,2],width:H(u,$e)+4},{text:R[1]})}),K.div()),C.length>0){let R=C.map(V=>V.replace(/\$0/g,E)).join(`
`);K.div(`${R}
`)}return K.toString().replace(/\s*$/,"")};function H(P,E,$){let W=0;return Array.isArray(P)||(P=Object.values(P).map(Y=>[Y])),P.forEach(Y=>{W=Math.max(e.stringWidth($?`${$} ${Nt(Y[0])}`:Nt(Y[0]))+ms(Y[0]),W)}),E&&(W=Math.min(W,parseInt((E*.5).toString(),10))),W}function B(){let P=s.getDemandedOptions(),E=s.getOptions();(Object.keys(E.alias)||[]).forEach($=>{E.alias[$].forEach(W=>{O[W]&&n.describe($,O[W]),W in P&&s.demandOption($,P[W]),E.boolean.includes(W)&&s.boolean($),E.count.includes(W)&&s.count($),E.string.includes(W)&&s.string($),E.normalize.includes(W)&&s.normalize($),E.array.includes(W)&&s.array($),E.number.includes(W)&&s.number($)})})}let q;n.cacheHelpMessage=function(){q=this.help()},n.clearCachedHelpMessage=function(){q=void 0},n.hasCachedHelpMessage=function(){return!!q};function ze(P,E,$,W){let Y=[],ee=null;return Object.keys($).forEach(U=>{Y=Y.concat($[U])}),P.forEach(U=>{ee=[U].concat(E[U]),ee.some(te=>Y.indexOf(te)!==-1)||$[W].push(U)}),Y}function pe(P){return s.getOptions().hiddenOptions.indexOf(P)<0||s.parsed.argv[s.getOptions().showHiddenOpt]}n.showHelp=P=>{let E=s.getInternalMethods().getLoggerInstance();P||(P="error"),(typeof P=="function"?P:E[P])(n.help())},n.functionDescription=P=>{let E=P.name?e.Parser.decamelize(P.name,"-"):t("generated-value");return["(",E,")"].join("")},n.stringifiedValues=function(E,$){let W="",Y=$||", ",ee=[].concat(E);return!E||!ee.length||ee.forEach(U=>{W.length&&(W+=Y),W+=JSON.stringify(U)}),W};function Xe(P,E){let $=`[${t("default:")} `;if(P===void 0&&!E)return null;if(E)$+=E;else switch(typeof P){case"string":$+=`"${P}"`;break;case"object":$+=JSON.stringify(P);break;default:$+=P}return`${$}]`}function et(){return e.process.stdColumns?Math.min(80,e.process.stdColumns):80}let G=null;n.version=P=>{G=P},n.showVersion=P=>{let E=s.getInternalMethods().getLoggerInstance();P||(P="error"),(typeof P=="function"?P:E[P])(G)},n.reset=function(E){return r=null,f=!1,m=[],b=!1,C=[],u=[],g=[],O=Fe(O,$=>!E[$]),n};let mt=[];return n.freeze=function(){mt.push({failMessage:r,failureOutput:f,usages:m,usageDisabled:b,epilogs:C,examples:u,commands:g,descriptions:O})},n.unfreeze=function(E=!1){let $=mt.pop();!$||(E?(O=Ie(Ie({},$.descriptions),O),g=[...$.commands,...g],m=[...$.usages,...m],u=[...$.examples,...u],C=[...$.epilogs,...C]):{failMessage:r,failureOutput:f,usages:m,usageDisabled:b,epilogs:C,examples:u,commands:g,descriptions:O}=$)},n}function hn(s){return typeof s=="object"}function lr(s,e){return hn(s)?{text:s.text,indentation:s.indentation+e}:{text:s,indentation:e}}function ms(s){return hn(s)?s.indentation:0}function Nt(s){return hn(s)?s.text:s}var bs=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,ys=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zsh_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var dn=class{constructor(e,t,n,i){var r,o,l;this.yargs=e,this.usage=t,this.command=n,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(l=((r=this.shim.getEnv("SHELL"))===null||r===void 0?void 0:r.includes("zsh"))||((o=this.shim.getEnv("ZSH_NAME"))===null||o===void 0?void 0:o.includes("zsh")))!==null&&l!==void 0?l:!1}defaultCompletion(e,t,n,i){let r=this.command.getCommandHandlers();for(let l=0,f=e.length;l<f;++l)if(r[e[l]]&&r[e[l]].builder){let m=r[e[l]].builder;if(Rt(m)){this.indexAfterLastReset=l+1;let b=this.yargs.getInternalMethods().reset();return m(b,!0),b.argv}}let o=[];this.commandCompletions(o,e,n),this.optionCompletions(o,e,t,n),this.choicesFromOptionsCompletions(o,e,t,n),this.choicesFromPositionalsCompletions(o,e,t,n),i(null,o)}commandCompletions(e,t,n){let i=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&i[i.length-1]!==n&&!this.previousArgHasChoices(t)&&this.usage.getCommands().forEach(r=>{let o=ve(r[0]).cmd;if(t.indexOf(o)===-1)if(!this.zshShell)e.push(o);else{let l=r[1]||"";e.push(o.replace(/:/g,"\\:")+":"+l)}})}optionCompletions(e,t,n,i){if((i.match(/^-/)||i===""&&e.length===0)&&!this.previousArgHasChoices(t)){let r=this.yargs.getOptions(),o=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(r.key).forEach(l=>{let f=!!r.configuration["boolean-negation"]&&r.boolean.includes(l);!o.includes(l)&&!r.hiddenOptions.includes(l)&&!this.argsContainKey(t,n,l,f)&&(this.completeOptionKey(l,e,i),f&&!!r.default[l]&&this.completeOptionKey(`no-${l}`,e,i))})}}choicesFromOptionsCompletions(e,t,n,i){if(this.previousArgHasChoices(t)){let r=this.getPreviousArgChoices(t);r&&r.length>0&&e.push(...r.map(o=>o.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(e,t,n,i){if(i===""&&e.length>0&&this.previousArgHasChoices(t))return;let r=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],o=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),l=r[n._.length-o-1];if(!l)return;let f=this.yargs.getOptions().choices[l]||[];for(let m of f)m.startsWith(i)&&e.push(m.replace(/:/g,"\\:"))}getPreviousArgChoices(e){if(e.length<1)return;let t=e[e.length-1],n="";if(!t.startsWith("-")&&e.length>1&&(n=t,t=e[e.length-2]),!t.startsWith("-"))return;let i=t.replace(/^-+/,""),r=this.yargs.getOptions(),o=[i,...this.yargs.getAliases()[i]||[]],l;for(let f of o)if(Object.prototype.hasOwnProperty.call(r.key,f)&&Array.isArray(r.choices[f])){l=r.choices[f];break}if(l)return l.filter(f=>!n||f.startsWith(n))}previousArgHasChoices(e){let t=this.getPreviousArgChoices(e);return t!==void 0&&t.length>0}argsContainKey(e,t,n,i){if(e.indexOf(`--${n}`)!==-1||i&&e.indexOf(`--no-${n}`)!==-1)return!0;if(this.aliases){for(let r of this.aliases[n])if(t[r]!==void 0)return!0}return!1}completeOptionKey(e,t,n){let i=this.usage.getDescriptions(),r=f=>/^--/.test(f),o=f=>/^[^0-9]$/.test(f),l=!r(n)&&o(e)?"-":"--";if(!this.zshShell)t.push(l+e);else{let f=i[e]||"";t.push(l+`${e.replace(/:/g,"\\:")}:${f.replace("__yargsString__:","")}`)}}customCompletion(e,t,n,i){if(ce(this.customCompletionFunction,null,this.shim),fr(this.customCompletionFunction)){let r=this.customCompletionFunction(n,t);return J(r)?r.then(o=>{this.shim.process.nextTick(()=>{i(null,o)})}).catch(o=>{this.shim.process.nextTick(()=>{i(o,void 0)})}):i(null,r)}else return ur(this.customCompletionFunction)?this.customCompletionFunction(n,t,(r=i)=>this.defaultCompletion(e,t,n,r),r=>{i(null,r)}):this.customCompletionFunction(n,t,r=>{i(null,r)})}getCompletion(e,t){let n=e.length?e[e.length-1]:"",i=this.yargs.parse(e,!0),r=this.customCompletionFunction?o=>this.customCompletion(e,o,n,t):o=>this.defaultCompletion(e,o,n,t);return J(i)?i.then(r):r(i)}generateCompletionScript(e,t){let n=this.zshShell?ys:bs,i=this.shim.path.basename(e);return e.match(/\.js$/)&&(e=`./${e}`),n=n.replace(/{{app_name}}/g,i),n=n.replace(/{{completion_command}}/g,t),n.replace(/{{app_path}}/g,e)}registerFunction(e){this.customCompletionFunction=e}setParsed(e){this.aliases=e.aliases}};function ws(s,e,t,n){return new dn(s,e,t,n)}function fr(s){return s.length<3}function ur(s){return s.length>3}function Os(s,e){if(s.length===0)return e.length;if(e.length===0)return s.length;let t=[],n;for(n=0;n<=e.length;n++)t[n]=[n];let i;for(i=0;i<=s.length;i++)t[0][i]=i;for(n=1;n<=e.length;n++)for(i=1;i<=s.length;i++)e.charAt(n-1)===s.charAt(i-1)?t[n][i]=t[n-1][i-1]:n>1&&i>1&&e.charAt(n-2)===s.charAt(i-1)&&e.charAt(n-1)===s.charAt(i-2)?t[n][i]=t[n-2][i-2]+1:t[n][i]=Math.min(t[n-1][i-1]+1,Math.min(t[n][i-1]+1,t[n-1][i]+1));return t[e.length][s.length]}var _s=["$0","--","_"];function Cs(s,e,t){let n=t.y18n.__,i=t.y18n.__n,r={};r.nonOptionCount=function(u){let g=s.getDemandedCommands(),C=u._.length+(u["--"]?u["--"].length:0)-s.getInternalMethods().getContext().commands.length;g._&&(C<g._.min||C>g._.max)&&(C<g._.min?g._.minMsg!==void 0?e.fail(g._.minMsg?g._.minMsg.replace(/\$0/g,C.toString()).replace(/\$1/,g._.min.toString()):null):e.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",C,C.toString(),g._.min.toString())):C>g._.max&&(g._.maxMsg!==void 0?e.fail(g._.maxMsg?g._.maxMsg.replace(/\$0/g,C.toString()).replace(/\$1/,g._.max.toString()):null):e.fail(i("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",C,C.toString(),g._.max.toString()))))},r.positionalCount=function(u,g){g<u&&e.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",g,g+"",u+""))},r.requiredArguments=function(u,g){let O=null;for(let C of Object.keys(g))(!Object.prototype.hasOwnProperty.call(u,C)||typeof u[C]>"u")&&(O=O||{},O[C]=g[C]);if(O){let C=[];for(let p of Object.keys(O)){let L=O[p];L&&C.indexOf(L)<0&&C.push(L)}let w=C.length?`
${C.join(`
`)}`:"";e.fail(i("Missing required argument: %s","Missing required arguments: %s",Object.keys(O).length,Object.keys(O).join(", ")+w))}},r.unknownArguments=function(u,g,O,C,w=!0){var p;let L=s.getInternalMethods().getCommandInstance().getCommands(),D=[],H=s.getInternalMethods().getContext();if(Object.keys(u).forEach(B=>{!_s.includes(B)&&!Object.prototype.hasOwnProperty.call(O,B)&&!Object.prototype.hasOwnProperty.call(s.getInternalMethods().getParseContext(),B)&&!r.isValidAndSomeAliasIsNotNew(B,g)&&D.push(B)}),w&&(H.commands.length>0||L.length>0||C)&&u._.slice(H.commands.length).forEach(B=>{L.includes(""+B)||D.push(""+B)}),w){let q=((p=s.getDemandedCommands()._)===null||p===void 0?void 0:p.max)||0,ze=H.commands.length+q;ze<u._.length&&u._.slice(ze).forEach(pe=>{pe=String(pe),!H.commands.includes(pe)&&!D.includes(pe)&&D.push(pe)})}D.length&&e.fail(i("Unknown argument: %s","Unknown arguments: %s",D.length,D.map(B=>B.trim()?B:`"${B}"`).join(", ")))},r.unknownCommands=function(u){let g=s.getInternalMethods().getCommandInstance().getCommands(),O=[],C=s.getInternalMethods().getContext();return(C.commands.length>0||g.length>0)&&u._.slice(C.commands.length).forEach(w=>{g.includes(""+w)||O.push(""+w)}),O.length>0?(e.fail(i("Unknown command: %s","Unknown commands: %s",O.length,O.join(", "))),!0):!1},r.isValidAndSomeAliasIsNotNew=function(u,g){if(!Object.prototype.hasOwnProperty.call(g,u))return!1;let O=s.parsed.newAliases;return[u,...g[u]].some(C=>!Object.prototype.hasOwnProperty.call(O,C)||!O[u])},r.limitedChoices=function(u){let g=s.getOptions(),O={};if(!Object.keys(g.choices).length)return;Object.keys(u).forEach(p=>{_s.indexOf(p)===-1&&Object.prototype.hasOwnProperty.call(g.choices,p)&&[].concat(u[p]).forEach(L=>{g.choices[p].indexOf(L)===-1&&L!==void 0&&(O[p]=(O[p]||[]).concat(L))})});let C=Object.keys(O);if(!C.length)return;let w=n("Invalid values:");C.forEach(p=>{w+=`
  ${n("Argument: %s, Given: %s, Choices: %s",p,e.stringifiedValues(O[p]),e.stringifiedValues(g.choices[p]))}`}),e.fail(w)};let o={};r.implies=function(u,g){j("<string|object> [array|number|string]",[u,g],arguments.length),typeof u=="object"?Object.keys(u).forEach(O=>{r.implies(O,u[O])}):(s.global(u),o[u]||(o[u]=[]),Array.isArray(g)?g.forEach(O=>r.implies(u,O)):(ce(g,void 0,t),o[u].push(g)))},r.getImplied=function(){return o};function l(b,u){let g=Number(u);return u=isNaN(g)?u:g,typeof u=="number"?u=b._.length>=u:u.match(/^--no-.+/)?(u=u.match(/^--no-(.+)/)[1],u=!Object.prototype.hasOwnProperty.call(b,u)):u=Object.prototype.hasOwnProperty.call(b,u),u}r.implications=function(u){let g=[];if(Object.keys(o).forEach(O=>{let C=O;(o[O]||[]).forEach(w=>{let p=C,L=w;p=l(u,p),w=l(u,w),p&&!w&&g.push(` ${C} -> ${L}`)})}),g.length){let O=`${n("Implications failed:")}
`;g.forEach(C=>{O+=C}),e.fail(O)}};let f={};r.conflicts=function(u,g){j("<string|object> [array|string]",[u,g],arguments.length),typeof u=="object"?Object.keys(u).forEach(O=>{r.conflicts(O,u[O])}):(s.global(u),f[u]||(f[u]=[]),Array.isArray(g)?g.forEach(O=>r.conflicts(u,O)):f[u].push(g))},r.getConflicting=()=>f,r.conflicting=function(u){Object.keys(u).forEach(g=>{f[g]&&f[g].forEach(O=>{O&&u[g]!==void 0&&u[O]!==void 0&&e.fail(n("Arguments %s and %s are mutually exclusive",g,O))})}),s.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(f).forEach(g=>{f[g].forEach(O=>{O&&u[t.Parser.camelCase(g)]!==void 0&&u[t.Parser.camelCase(O)]!==void 0&&e.fail(n("Arguments %s and %s are mutually exclusive",g,O))})})},r.recommendCommands=function(u,g){g=g.sort((p,L)=>L.length-p.length);let C=null,w=1/0;for(let p=0,L;(L=g[p])!==void 0;p++){let D=Os(u,L);D<=3&&D<w&&(w=D,C=L)}C&&e.fail(n("Did you mean %s?",C))},r.reset=function(u){return o=Fe(o,g=>!u[g]),f=Fe(f,g=>!u[g]),r};let m=[];return r.freeze=function(){m.push({implied:o,conflicting:f})},r.unfreeze=function(){let u=m.pop();ce(u,void 0,t),{implied:o,conflicting:f}=u},r}var A=function(s,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?s!==e||!i:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(s,t):i?i.value=t:e.set(s,t),t},a=function(s,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?s!==e||!n:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(s):n?n.value:e.get(s)},X,He,Ot,ge,ue,Wt,Ne,Ue,Lt,be,Tt,ye,Ae,he,we,zt,ot,re,I,Dt,Bt,de,Ye,at,Ge,We,qt,N,Ve,ke,Ke,T,Me,Q;function Bs(s){return(e=[],t=s.process.cwd(),n)=>{let i=new xn(e,t,n,s);return Object.defineProperty(i,"argv",{get:()=>i.parse(),enumerable:!0}),i.help(),i.version(),i}}var Es=Symbol("copyDoubleDash"),xs=Symbol("copyDoubleDash"),pn=Symbol("deleteFromParserHintObject"),js=Symbol("emitWarning"),As=Symbol("freeze"),Ms=Symbol("getDollarZero"),Je=Symbol("getParserConfiguration"),mn=Symbol("guessLocale"),Ss=Symbol("guessVersion"),Ps=Symbol("parsePositionalNumbers"),gn=Symbol("pkgUp"),Le=Symbol("populateParserHintArray"),lt=Symbol("populateParserHintSingleValueDictionary"),bn=Symbol("populateParserHintArrayDictionary"),yn=Symbol("populateParserHintDictionary"),wn=Symbol("sanitizeKey"),On=Symbol("setKey"),_n=Symbol("unfreeze"),$s=Symbol("validateAsync"),Is=Symbol("getCommandInstance"),vs=Symbol("getContext"),Fs=Symbol("getHasOutput"),Rs=Symbol("getLoggerInstance"),Ns=Symbol("getParseContext"),Ws=Symbol("getUsageInstance"),Ls=Symbol("getValidationInstance"),Ht=Symbol("hasParseCallback"),Ts=Symbol("isGlobalContext"),Qe=Symbol("postProcess"),zs=Symbol("rebase"),Cn=Symbol("reset"),_t=Symbol("runYargsParserAndExecuteCommands"),En=Symbol("runValidation"),Ds=Symbol("setHasOutput"),Ze=Symbol("kTrackManuallySetKeys"),xn=class{constructor(e=[],t,n,i){this.customScriptName=!1,this.parsed=!1,X.set(this,void 0),He.set(this,void 0),Ot.set(this,{commands:[],fullCommands:[]}),ge.set(this,null),ue.set(this,null),Wt.set(this,"show-hidden"),Ne.set(this,null),Ue.set(this,!0),Lt.set(this,{}),be.set(this,!0),Tt.set(this,[]),ye.set(this,void 0),Ae.set(this,{}),he.set(this,!1),we.set(this,null),zt.set(this,!0),ot.set(this,void 0),re.set(this,""),I.set(this,void 0),Dt.set(this,void 0),Bt.set(this,{}),de.set(this,null),Ye.set(this,null),at.set(this,{}),Ge.set(this,{}),We.set(this,void 0),qt.set(this,!1),N.set(this,void 0),Ve.set(this,!1),ke.set(this,!1),Ke.set(this,!1),T.set(this,void 0),Me.set(this,null),Q.set(this,void 0),A(this,N,i,"f"),A(this,We,e,"f"),A(this,He,t,"f"),A(this,Dt,n,"f"),A(this,ye,new Ft(this),"f"),this.$0=this[Ms](),this[Cn](),A(this,X,a(this,X,"f"),"f"),A(this,T,a(this,T,"f"),"f"),A(this,Q,a(this,Q,"f"),"f"),A(this,I,a(this,I,"f"),"f"),a(this,I,"f").showHiddenOpt=a(this,Wt,"f"),A(this,ot,this[xs](),"f")}addHelpOpt(e,t){let n="help";return j("[string|boolean] [string]",[e,t],arguments.length),a(this,we,"f")&&(this[pn](a(this,we,"f")),A(this,we,null,"f")),e===!1&&t===void 0?this:(A(this,we,typeof e=="string"?e:n,"f"),this.boolean(a(this,we,"f")),this.describe(a(this,we,"f"),t||a(this,T,"f").deferY18nLookup("Show help")),this)}help(e,t){return this.addHelpOpt(e,t)}addShowHiddenOpt(e,t){if(j("[string|boolean] [string]",[e,t],arguments.length),e===!1&&t===void 0)return this;let n=typeof e=="string"?e:a(this,Wt,"f");return this.boolean(n),this.describe(n,t||a(this,T,"f").deferY18nLookup("Show hidden options")),a(this,I,"f").showHiddenOpt=n,this}showHidden(e,t){return this.addShowHiddenOpt(e,t)}alias(e,t){return j("<object|string|array> [string|array]",[e,t],arguments.length),this[bn](this.alias.bind(this),"alias",e,t),this}array(e){return j("<array|string>",[e],arguments.length),this[Le]("array",e),this[Ze](e),this}boolean(e){return j("<array|string>",[e],arguments.length),this[Le]("boolean",e),this[Ze](e),this}check(e,t){return j("<function> [boolean]",[e,t],arguments.length),this.middleware((n,i)=>qe(()=>e(n,i.getOptions()),r=>(r?(typeof r=="string"||r instanceof Error)&&a(this,T,"f").fail(r.toString(),r):a(this,T,"f").fail(a(this,N,"f").y18n.__("Argument check failed: %s",e.toString())),n),r=>(a(this,T,"f").fail(r.message?r.message:r.toString(),r),n)),!1,t),this}choices(e,t){return j("<object|string|array> [string|array]",[e,t],arguments.length),this[bn](this.choices.bind(this),"choices",e,t),this}coerce(e,t){if(j("<object|string|array> [function]",[e,t],arguments.length),Array.isArray(e)){if(!t)throw new k("coerce callback must be provided");for(let n of e)this.coerce(n,t);return this}else if(typeof e=="object"){for(let n of Object.keys(e))this.coerce(n,e[n]);return this}if(!t)throw new k("coerce callback must be provided");return a(this,I,"f").key[e]=!0,a(this,ye,"f").addCoerceMiddleware((n,i)=>{let r;return Object.hasOwnProperty.call(n,e)?qe(()=>(r=i.getAliases(),t(n[e])),l=>{n[e]=l;let f=i.getInternalMethods().getParserConfiguration()["strip-aliased"];if(r[e]&&f!==!0)for(let m of r[e])n[m]=l;return n},l=>{throw new k(l.message)}):n},e),this}conflicts(e,t){return j("<string|object> [string|array]",[e,t],arguments.length),a(this,Q,"f").conflicts(e,t),this}config(e="config",t,n){return j("[object|string] [string|function] [function]",[e,t,n],arguments.length),typeof e=="object"&&!Array.isArray(e)?(e=yt(e,a(this,He,"f"),this[Je]()["deep-merge-config"]||!1,a(this,N,"f")),a(this,I,"f").configObjects=(a(this,I,"f").configObjects||[]).concat(e),this):(typeof t=="function"&&(n=t,t=void 0),this.describe(e,t||a(this,T,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(e)?e:[e]).forEach(i=>{a(this,I,"f").config[i]=n||!0}),this)}completion(e,t,n){return j("[string] [string|boolean|function] [function]",[e,t,n],arguments.length),typeof t=="function"&&(n=t,t=void 0),A(this,ue,e||a(this,ue,"f")||"completion","f"),!t&&t!==!1&&(t="generate completion script"),this.command(a(this,ue,"f"),t),n&&a(this,ge,"f").registerFunction(n),this}command(e,t,n,i,r,o){return j("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[e,t,n,i,r,o],arguments.length),a(this,X,"f").addHandler(e,t,n,i,r,o),this}commands(e,t,n,i,r,o){return this.command(e,t,n,i,r,o)}commandDir(e,t){j("<string> [object]",[e,t],arguments.length);let n=a(this,Dt,"f")||a(this,N,"f").require;return a(this,X,"f").addDirectory(e,n,a(this,N,"f").getCallerFile(),t),this}count(e){return j("<array|string>",[e],arguments.length),this[Le]("count",e),this[Ze](e),this}default(e,t,n){return j("<object|string|array> [*] [string]",[e,t,n],arguments.length),n&&(cn(e,a(this,N,"f")),a(this,I,"f").defaultDescription[e]=n),typeof t=="function"&&(cn(e,a(this,N,"f")),a(this,I,"f").defaultDescription[e]||(a(this,I,"f").defaultDescription[e]=a(this,T,"f").functionDescription(t)),t=t.call()),this[lt](this.default.bind(this),"default",e,t),this}defaults(e,t,n){return this.default(e,t,n)}demandCommand(e=1,t,n,i){return j("[number] [number|string] [string|null|undefined] [string|null|undefined]",[e,t,n,i],arguments.length),typeof t!="number"&&(n=t,t=1/0),this.global("_",!1),a(this,I,"f").demandedCommands._={min:e,max:t,minMsg:n,maxMsg:i},this}demand(e,t,n){return Array.isArray(t)?(t.forEach(i=>{ce(n,!0,a(this,N,"f")),this.demandOption(i,n)}),t=1/0):typeof t!="number"&&(n=t,t=1/0),typeof e=="number"?(ce(n,!0,a(this,N,"f")),this.demandCommand(e,t,n,n)):Array.isArray(e)?e.forEach(i=>{ce(n,!0,a(this,N,"f")),this.demandOption(i,n)}):typeof n=="string"?this.demandOption(e,n):(n===!0||typeof n>"u")&&this.demandOption(e),this}demandOption(e,t){return j("<object|string|array> [string]",[e,t],arguments.length),this[lt](this.demandOption.bind(this),"demandedOptions",e,t),this}deprecateOption(e,t){return j("<string> [string|boolean]",[e,t],arguments.length),a(this,I,"f").deprecatedOptions[e]=t,this}describe(e,t){return j("<object|string|array> [string]",[e,t],arguments.length),this[On](e,!0),a(this,T,"f").describe(e,t),this}detectLocale(e){return j("<boolean>",[e],arguments.length),A(this,Ue,e,"f"),this}env(e){return j("[string|boolean]",[e],arguments.length),e===!1?delete a(this,I,"f").envPrefix:a(this,I,"f").envPrefix=e||"",this}epilogue(e){return j("<string>",[e],arguments.length),a(this,T,"f").epilog(e),this}epilog(e){return this.epilogue(e)}example(e,t){return j("<string|array> [string]",[e,t],arguments.length),Array.isArray(e)?e.forEach(n=>this.example(...n)):a(this,T,"f").example(e,t),this}exit(e,t){A(this,he,!0,"f"),A(this,Ne,t,"f"),a(this,be,"f")&&a(this,N,"f").process.exit(e)}exitProcess(e=!0){return j("[boolean]",[e],arguments.length),A(this,be,e,"f"),this}fail(e){if(j("<function|boolean>",[e],arguments.length),typeof e=="boolean"&&e!==!1)throw new k("Invalid first argument. Expected function or boolean 'false'");return a(this,T,"f").failFn(e),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(e,t){return j("<array> [function]",[e,t],arguments.length),t?a(this,ge,"f").getCompletion(e,t):new Promise((n,i)=>{a(this,ge,"f").getCompletion(e,(r,o)=>{r?i(r):n(o)})})}getDemandedOptions(){return j([],0),a(this,I,"f").demandedOptions}getDemandedCommands(){return j([],0),a(this,I,"f").demandedCommands}getDeprecatedOptions(){return j([],0),a(this,I,"f").deprecatedOptions}getDetectLocale(){return a(this,Ue,"f")}getExitProcess(){return a(this,be,"f")}getGroups(){return Object.assign({},a(this,Ae,"f"),a(this,Ge,"f"))}getHelp(){if(A(this,he,!0,"f"),!a(this,T,"f").hasCachedHelpMessage()){if(!this.parsed){let t=this[_t](a(this,We,"f"),void 0,void 0,0,!0);if(J(t))return t.then(()=>a(this,T,"f").help())}let e=a(this,X,"f").runDefaultBuilderOn(this);if(J(e))return e.then(()=>a(this,T,"f").help())}return Promise.resolve(a(this,T,"f").help())}getOptions(){return a(this,I,"f")}getStrict(){return a(this,Ve,"f")}getStrictCommands(){return a(this,ke,"f")}getStrictOptions(){return a(this,Ke,"f")}global(e,t){return j("<string|array> [boolean]",[e,t],arguments.length),e=[].concat(e),t!==!1?a(this,I,"f").local=a(this,I,"f").local.filter(n=>e.indexOf(n)===-1):e.forEach(n=>{a(this,I,"f").local.includes(n)||a(this,I,"f").local.push(n)}),this}group(e,t){j("<string|array> <string>",[e,t],arguments.length);let n=a(this,Ge,"f")[t]||a(this,Ae,"f")[t];a(this,Ge,"f")[t]&&delete a(this,Ge,"f")[t];let i={};return a(this,Ae,"f")[t]=(n||[]).concat(e).filter(r=>i[r]?!1:i[r]=!0),this}hide(e){return j("<string>",[e],arguments.length),a(this,I,"f").hiddenOptions.push(e),this}implies(e,t){return j("<string|object> [number|string|array]",[e,t],arguments.length),a(this,Q,"f").implies(e,t),this}locale(e){return j("[string]",[e],arguments.length),e?(A(this,Ue,!1,"f"),a(this,N,"f").y18n.setLocale(e),this):(this[mn](),a(this,N,"f").y18n.getLocale())}middleware(e,t,n){return a(this,ye,"f").addMiddleware(e,!!t,n)}nargs(e,t){return j("<string|object|array> [number]",[e,t],arguments.length),this[lt](this.nargs.bind(this),"narg",e,t),this}normalize(e){return j("<array|string>",[e],arguments.length),this[Le]("normalize",e),this}number(e){return j("<array|string>",[e],arguments.length),this[Le]("number",e),this[Ze](e),this}option(e,t){if(j("<string|object> [object]",[e,t],arguments.length),typeof e=="object")Object.keys(e).forEach(n=>{this.options(n,e[n])});else{typeof t!="object"&&(t={}),this[Ze](e),a(this,Me,"f")&&(e==="version"||(t==null?void 0:t.alias)==="version")&&this[js](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),a(this,I,"f").key[e]=!0,t.alias&&this.alias(e,t.alias);let n=t.deprecate||t.deprecated;n&&this.deprecateOption(e,n);let i=t.demand||t.required||t.require;i&&this.demand(e,i),t.demandOption&&this.demandOption(e,typeof t.demandOption=="string"?t.demandOption:void 0),t.conflicts&&this.conflicts(e,t.conflicts),"default"in t&&this.default(e,t.default),t.implies!==void 0&&this.implies(e,t.implies),t.nargs!==void 0&&this.nargs(e,t.nargs),t.config&&this.config(e,t.configParser),t.normalize&&this.normalize(e),t.choices&&this.choices(e,t.choices),t.coerce&&this.coerce(e,t.coerce),t.group&&this.group(e,t.group),(t.boolean||t.type==="boolean")&&(this.boolean(e),t.alias&&this.boolean(t.alias)),(t.array||t.type==="array")&&(this.array(e),t.alias&&this.array(t.alias)),(t.number||t.type==="number")&&(this.number(e),t.alias&&this.number(t.alias)),(t.string||t.type==="string")&&(this.string(e),t.alias&&this.string(t.alias)),(t.count||t.type==="count")&&this.count(e),typeof t.global=="boolean"&&this.global(e,t.global),t.defaultDescription&&(a(this,I,"f").defaultDescription[e]=t.defaultDescription),t.skipValidation&&this.skipValidation(e);let r=t.describe||t.description||t.desc;this.describe(e,r),t.hidden&&this.hide(e),t.requiresArg&&this.requiresArg(e)}return this}options(e,t){return this.option(e,t)}parse(e,t,n){j("[string|array] [function|boolean|object] [function]",[e,t,n],arguments.length),this[As](),typeof e>"u"&&(e=a(this,We,"f")),typeof t=="object"&&(A(this,Ye,t,"f"),t=n),typeof t=="function"&&(A(this,de,t,"f"),t=!1),t||A(this,We,e,"f"),a(this,de,"f")&&A(this,be,!1,"f");let i=this[_t](e,!!t),r=this.parsed;return a(this,ge,"f").setParsed(this.parsed),J(i)?i.then(o=>(a(this,de,"f")&&a(this,de,"f").call(this,a(this,Ne,"f"),o,a(this,re,"f")),o)).catch(o=>{throw a(this,de,"f")&&a(this,de,"f")(o,this.parsed.argv,a(this,re,"f")),o}).finally(()=>{this[_n](),this.parsed=r}):(a(this,de,"f")&&a(this,de,"f").call(this,a(this,Ne,"f"),i,a(this,re,"f")),this[_n](),this.parsed=r,i)}parseAsync(e,t,n){let i=this.parse(e,t,n);return J(i)?i:Promise.resolve(i)}parseSync(e,t,n){let i=this.parse(e,t,n);if(J(i))throw new k(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(e){return j("<object>",[e],arguments.length),A(this,Bt,e,"f"),this}pkgConf(e,t){j("<string> [string]",[e,t],arguments.length);let n=null,i=this[gn](t||a(this,He,"f"));return i[e]&&typeof i[e]=="object"&&(n=yt(i[e],t||a(this,He,"f"),this[Je]()["deep-merge-config"]||!1,a(this,N,"f")),a(this,I,"f").configObjects=(a(this,I,"f").configObjects||[]).concat(n)),this}positional(e,t){j("<string> <object>",[e,t],arguments.length);let n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];t=Fe(t,(o,l)=>o==="type"&&!["string","number","boolean"].includes(l)?!1:n.includes(o));let i=a(this,Ot,"f").fullCommands[a(this,Ot,"f").fullCommands.length-1],r=i?a(this,X,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return it(r).forEach(o=>{let l=r[o];Array.isArray(l)?l.indexOf(e)!==-1&&(t[o]=!0):l[e]&&!(o in t)&&(t[o]=l[e])}),this.group(e,a(this,T,"f").getPositionalGroupName()),this.option(e,t)}recommendCommands(e=!0){return j("[boolean]",[e],arguments.length),A(this,qt,e,"f"),this}required(e,t,n){return this.demand(e,t,n)}require(e,t,n){return this.demand(e,t,n)}requiresArg(e){return j("<array|string|object> [number]",[e],arguments.length),typeof e=="string"&&a(this,I,"f").narg[e]?this:(this[lt](this.requiresArg.bind(this),"narg",e,NaN),this)}showCompletionScript(e,t){return j("[string] [string]",[e,t],arguments.length),e=e||this.$0,a(this,ot,"f").log(a(this,ge,"f").generateCompletionScript(e,t||a(this,ue,"f")||"completion")),this}showHelp(e){if(j("[string|function]",[e],arguments.length),A(this,he,!0,"f"),!a(this,T,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[_t](a(this,We,"f"),void 0,void 0,0,!0);if(J(n))return n.then(()=>{a(this,T,"f").showHelp(e)}),this}let t=a(this,X,"f").runDefaultBuilderOn(this);if(J(t))return t.then(()=>{a(this,T,"f").showHelp(e)}),this}return a(this,T,"f").showHelp(e),this}scriptName(e){return this.customScriptName=!0,this.$0=e,this}showHelpOnFail(e,t){return j("[boolean|string] [string]",[e,t],arguments.length),a(this,T,"f").showHelpOnFail(e,t),this}showVersion(e){return j("[string|function]",[e],arguments.length),a(this,T,"f").showVersion(e),this}skipValidation(e){return j("<array|string>",[e],arguments.length),this[Le]("skipValidation",e),this}strict(e){return j("[boolean]",[e],arguments.length),A(this,Ve,e!==!1,"f"),this}strictCommands(e){return j("[boolean]",[e],arguments.length),A(this,ke,e!==!1,"f"),this}strictOptions(e){return j("[boolean]",[e],arguments.length),A(this,Ke,e!==!1,"f"),this}string(e){return j("<array|string>",[e],arguments.length),this[Le]("string",e),this[Ze](e),this}terminalWidth(){return j([],0),a(this,N,"f").process.stdColumns}updateLocale(e){return this.updateStrings(e)}updateStrings(e){return j("<object>",[e],arguments.length),A(this,Ue,!1,"f"),a(this,N,"f").y18n.updateLocale(e),this}usage(e,t,n,i){if(j("<string|null|undefined> [string|boolean] [function|object] [function]",[e,t,n,i],arguments.length),t!==void 0){if(ce(e,null,a(this,N,"f")),(e||"").match(/^\$0( |$)/))return this.command(e,t,n,i);throw new k(".usage() description must start with $0 if being used as alias for .command()")}else return a(this,T,"f").usage(e),this}version(e,t,n){let i="version";if(j("[boolean|string] [string] [string]",[e,t,n],arguments.length),a(this,Me,"f")&&(this[pn](a(this,Me,"f")),a(this,T,"f").version(void 0),A(this,Me,null,"f")),arguments.length===0)n=this[Ss](),e=i;else if(arguments.length===1){if(e===!1)return this;n=e,e=i}else arguments.length===2&&(n=t,t=void 0);return A(this,Me,typeof e=="string"?e:i,"f"),t=t||a(this,T,"f").deferY18nLookup("Show version number"),a(this,T,"f").version(n||void 0),this.boolean(a(this,Me,"f")),this.describe(a(this,Me,"f"),t),this}wrap(e){return j("<number|null|undefined>",[e],arguments.length),a(this,T,"f").wrap(e),this}[(X=new WeakMap,He=new WeakMap,Ot=new WeakMap,ge=new WeakMap,ue=new WeakMap,Wt=new WeakMap,Ne=new WeakMap,Ue=new WeakMap,Lt=new WeakMap,be=new WeakMap,Tt=new WeakMap,ye=new WeakMap,Ae=new WeakMap,he=new WeakMap,we=new WeakMap,zt=new WeakMap,ot=new WeakMap,re=new WeakMap,I=new WeakMap,Dt=new WeakMap,Bt=new WeakMap,de=new WeakMap,Ye=new WeakMap,at=new WeakMap,Ge=new WeakMap,We=new WeakMap,qt=new WeakMap,N=new WeakMap,Ve=new WeakMap,ke=new WeakMap,Ke=new WeakMap,T=new WeakMap,Me=new WeakMap,Q=new WeakMap,Es)](e){if(!e._||!e["--"])return e;e._.push.apply(e._,e["--"]);try{delete e["--"]}catch{}return e}[xs](){return{log:(...e)=>{this[Ht]()||console.log(...e),A(this,he,!0,"f"),a(this,re,"f").length&&A(this,re,a(this,re,"f")+`
`,"f"),A(this,re,a(this,re,"f")+e.join(" "),"f")},error:(...e)=>{this[Ht]()||console.error(...e),A(this,he,!0,"f"),a(this,re,"f").length&&A(this,re,a(this,re,"f")+`
`,"f"),A(this,re,a(this,re,"f")+e.join(" "),"f")}}}[pn](e){it(a(this,I,"f")).forEach(t=>{if((i=>i==="configObjects")(t))return;let n=a(this,I,"f")[t];Array.isArray(n)?n.includes(e)&&n.splice(n.indexOf(e),1):typeof n=="object"&&delete n[e]}),delete a(this,T,"f").getDescriptions()[e]}[js](e,t,n){a(this,Lt,"f")[n]||(a(this,N,"f").process.emitWarning(e,t),a(this,Lt,"f")[n]=!0)}[As](){a(this,Tt,"f").push({options:a(this,I,"f"),configObjects:a(this,I,"f").configObjects.slice(0),exitProcess:a(this,be,"f"),groups:a(this,Ae,"f"),strict:a(this,Ve,"f"),strictCommands:a(this,ke,"f"),strictOptions:a(this,Ke,"f"),completionCommand:a(this,ue,"f"),output:a(this,re,"f"),exitError:a(this,Ne,"f"),hasOutput:a(this,he,"f"),parsed:this.parsed,parseFn:a(this,de,"f"),parseContext:a(this,Ye,"f")}),a(this,T,"f").freeze(),a(this,Q,"f").freeze(),a(this,X,"f").freeze(),a(this,ye,"f").freeze()}[Ms](){let e="",t;return/\b(node|iojs|electron)(\.exe)?$/.test(a(this,N,"f").process.argv()[0])?t=a(this,N,"f").process.argv().slice(1,2):t=a(this,N,"f").process.argv().slice(0,1),e=t.map(n=>{let i=this[zs](a(this,He,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<n.length?i:n}).join(" ").trim(),a(this,N,"f").getEnv("_")&&a(this,N,"f").getProcessArgvBin()===a(this,N,"f").getEnv("_")&&(e=a(this,N,"f").getEnv("_").replace(`${a(this,N,"f").path.dirname(a(this,N,"f").process.execPath())}/`,"")),e}[Je](){return a(this,Bt,"f")}[mn](){if(!a(this,Ue,"f"))return;let e=a(this,N,"f").getEnv("LC_ALL")||a(this,N,"f").getEnv("LC_MESSAGES")||a(this,N,"f").getEnv("LANG")||a(this,N,"f").getEnv("LANGUAGE")||"en_US";this.locale(e.replace(/[.:].*/,""))}[Ss](){return this[gn]().version||"unknown"}[Ps](e){let t=e["--"]?e["--"]:e._;for(let n=0,i;(i=t[n])!==void 0;n++)a(this,N,"f").Parser.looksLikeNumber(i)&&Number.isSafeInteger(Math.floor(parseFloat(`${i}`)))&&(t[n]=Number(i));return e}[gn](e){let t=e||"*";if(a(this,at,"f")[t])return a(this,at,"f")[t];let n={};try{let i=e||a(this,N,"f").mainFilename;!e&&a(this,N,"f").path.extname(i)&&(i=a(this,N,"f").path.dirname(i));let r=a(this,N,"f").findUp(i,(o,l)=>{if(l.includes("package.json"))return"package.json"});ce(r,void 0,a(this,N,"f")),n=JSON.parse(a(this,N,"f").readFileSync(r,"utf8"))}catch{}return a(this,at,"f")[t]=n||{},a(this,at,"f")[t]}[Le](e,t){t=[].concat(t),t.forEach(n=>{n=this[wn](n),a(this,I,"f")[e].push(n)})}[lt](e,t,n,i){this[yn](e,t,n,i,(r,o,l)=>{a(this,I,"f")[r][o]=l})}[bn](e,t,n,i){this[yn](e,t,n,i,(r,o,l)=>{a(this,I,"f")[r][o]=(a(this,I,"f")[r][o]||[]).concat(l)})}[yn](e,t,n,i,r){if(Array.isArray(n))n.forEach(o=>{e(o,i)});else if((o=>typeof o=="object")(n))for(let o of it(n))e(o,n[o]);else r(t,this[wn](n),i)}[wn](e){return e==="__proto__"?"___proto___":e}[On](e,t){return this[lt](this[On].bind(this),"key",e,t),this}[_n](){var e,t,n,i,r,o,l,f,m,b,u,g;let O=a(this,Tt,"f").pop();ce(O,void 0,a(this,N,"f"));let C;e=this,t=this,n=this,i=this,r=this,o=this,l=this,f=this,m=this,b=this,u=this,g=this,{options:{set value(w){A(e,I,w,"f")}}.value,configObjects:C,exitProcess:{set value(w){A(t,be,w,"f")}}.value,groups:{set value(w){A(n,Ae,w,"f")}}.value,output:{set value(w){A(i,re,w,"f")}}.value,exitError:{set value(w){A(r,Ne,w,"f")}}.value,hasOutput:{set value(w){A(o,he,w,"f")}}.value,parsed:this.parsed,strict:{set value(w){A(l,Ve,w,"f")}}.value,strictCommands:{set value(w){A(f,ke,w,"f")}}.value,strictOptions:{set value(w){A(m,Ke,w,"f")}}.value,completionCommand:{set value(w){A(b,ue,w,"f")}}.value,parseFn:{set value(w){A(u,de,w,"f")}}.value,parseContext:{set value(w){A(g,Ye,w,"f")}}.value}=O,a(this,I,"f").configObjects=C,a(this,T,"f").unfreeze(),a(this,Q,"f").unfreeze(),a(this,X,"f").unfreeze(),a(this,ye,"f").unfreeze()}[$s](e,t){return qe(t,n=>(e(n),n))}getInternalMethods(){return{getCommandInstance:this[Is].bind(this),getContext:this[vs].bind(this),getHasOutput:this[Fs].bind(this),getLoggerInstance:this[Rs].bind(this),getParseContext:this[Ns].bind(this),getParserConfiguration:this[Je].bind(this),getUsageInstance:this[Ws].bind(this),getValidationInstance:this[Ls].bind(this),hasParseCallback:this[Ht].bind(this),isGlobalContext:this[Ts].bind(this),postProcess:this[Qe].bind(this),reset:this[Cn].bind(this),runValidation:this[En].bind(this),runYargsParserAndExecuteCommands:this[_t].bind(this),setHasOutput:this[Ds].bind(this)}}[Is](){return a(this,X,"f")}[vs](){return a(this,Ot,"f")}[Fs](){return a(this,he,"f")}[Rs](){return a(this,ot,"f")}[Ns](){return a(this,Ye,"f")||{}}[Ws](){return a(this,T,"f")}[Ls](){return a(this,Q,"f")}[Ht](){return!!a(this,de,"f")}[Ts](){return a(this,zt,"f")}[Qe](e,t,n,i){return n||J(e)||(t||(e=this[Es](e)),(this[Je]()["parse-positional-numbers"]||this[Je]()["parse-positional-numbers"]===void 0)&&(e=this[Ps](e)),i&&(e=Be(e,this,a(this,ye,"f").getMiddleware(),!1))),e}[Cn](e={}){A(this,I,a(this,I,"f")||{},"f");let t={};t.local=a(this,I,"f").local||[],t.configObjects=a(this,I,"f").configObjects||[];let n={};t.local.forEach(o=>{n[o]=!0,(e[o]||[]).forEach(l=>{n[l]=!0})}),Object.assign(a(this,Ge,"f"),Object.keys(a(this,Ae,"f")).reduce((o,l)=>{let f=a(this,Ae,"f")[l].filter(m=>!(m in n));return f.length>0&&(o[l]=f),o},{})),A(this,Ae,{},"f");let i=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],r=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return i.forEach(o=>{t[o]=(a(this,I,"f")[o]||[]).filter(l=>!n[l])}),r.forEach(o=>{t[o]=Fe(a(this,I,"f")[o],l=>!n[l])}),t.envPrefix=a(this,I,"f").envPrefix,A(this,I,t,"f"),A(this,T,a(this,T,"f")?a(this,T,"f").reset(n):gs(this,a(this,N,"f")),"f"),A(this,Q,a(this,Q,"f")?a(this,Q,"f").reset(n):Cs(this,a(this,T,"f"),a(this,N,"f")),"f"),A(this,X,a(this,X,"f")?a(this,X,"f").reset():ds(a(this,T,"f"),a(this,Q,"f"),a(this,ye,"f"),a(this,N,"f")),"f"),a(this,ge,"f")||A(this,ge,ws(this,a(this,T,"f"),a(this,X,"f"),a(this,N,"f")),"f"),a(this,ye,"f").reset(),A(this,ue,null,"f"),A(this,re,"","f"),A(this,Ne,null,"f"),A(this,he,!1,"f"),this.parsed=!1,this}[zs](e,t){return a(this,N,"f").path.relative(e,t)}[_t](e,t,n,i=0,r=!1){let o=!!n||r;e=e||a(this,We,"f"),a(this,I,"f").__=a(this,N,"f").y18n.__,a(this,I,"f").configuration=this[Je]();let l=!!a(this,I,"f").configuration["populate--"],f=Object.assign({},a(this,I,"f").configuration,{"populate--":!0}),m=a(this,N,"f").Parser.detailed(e,Object.assign({},a(this,I,"f"),{configuration:Ie({"parse-positional-numbers":!1},f)})),b=Object.assign(m.argv,a(this,Ye,"f")),u,g=m.aliases,O=!1,C=!1;Object.keys(b).forEach(w=>{w===a(this,we,"f")&&b[w]?O=!0:w===a(this,Me,"f")&&b[w]&&(C=!0)}),b.$0=this.$0,this.parsed=m,i===0&&a(this,T,"f").clearCachedHelpMessage();try{if(this[mn](),t)return this[Qe](b,l,!!n,!1);a(this,we,"f")&&[a(this,we,"f")].concat(g[a(this,we,"f")]||[]).filter(H=>H.length>1).includes(""+b._[b._.length-1])&&(b._.pop(),O=!0),A(this,zt,!1,"f");let w=a(this,X,"f").getCommands(),p=a(this,ge,"f").completionKey in b,L=O||p||r;if(b._.length){if(w.length){let D;for(let H=i||0,B;b._[H]!==void 0;H++)if(B=String(b._[H]),w.includes(B)&&B!==a(this,ue,"f")){let q=a(this,X,"f").runCommand(B,this,m,H+1,r,O||C||r);return this[Qe](q,l,!!n,!1)}else if(!D&&B!==a(this,ue,"f")){D=B;break}!a(this,X,"f").hasDefaultCommand()&&a(this,qt,"f")&&D&&!L&&a(this,Q,"f").recommendCommands(D,w)}a(this,ue,"f")&&b._.includes(a(this,ue,"f"))&&!p&&(a(this,be,"f")&&Re(!0),this.showCompletionScript(),this.exit(0))}if(a(this,X,"f").hasDefaultCommand()&&!L){let D=a(this,X,"f").runCommand(null,this,m,0,r,O||C||r);return this[Qe](D,l,!!n,!1)}if(p){a(this,be,"f")&&Re(!0),e=[].concat(e);let D=e.slice(e.indexOf(`--${a(this,ge,"f").completionKey}`)+1);return a(this,ge,"f").getCompletion(D,(H,B)=>{if(H)throw new k(H.message);(B||[]).forEach(q=>{a(this,ot,"f").log(q)}),this.exit(0)}),this[Qe](b,!l,!!n,!1)}if(a(this,he,"f")||(O?(a(this,be,"f")&&Re(!0),o=!0,this.showHelp("log"),this.exit(0)):C&&(a(this,be,"f")&&Re(!0),o=!0,a(this,T,"f").showVersion("log"),this.exit(0))),!o&&a(this,I,"f").skipValidation.length>0&&(o=Object.keys(b).some(D=>a(this,I,"f").skipValidation.indexOf(D)>=0&&b[D]===!0)),!o){if(m.error)throw new k(m.error.message);if(!p){let D=this[En](g,{},m.error);n||(u=Be(b,this,a(this,ye,"f").getMiddleware(),!0)),u=this[$s](D,u??b),J(u)&&!n&&(u=u.then(()=>Be(b,this,a(this,ye,"f").getMiddleware(),!1)))}}}catch(w){if(w instanceof k)a(this,T,"f").fail(w.message,w);else throw w}return this[Qe](u??b,l,!!n,!0)}[En](e,t,n,i){let r=Ie({},this.getDemandedOptions());return o=>{if(n)throw new k(n.message);a(this,Q,"f").nonOptionCount(o),a(this,Q,"f").requiredArguments(o,r);let l=!1;a(this,ke,"f")&&(l=a(this,Q,"f").unknownCommands(o)),a(this,Ve,"f")&&!l?a(this,Q,"f").unknownArguments(o,e,t,!!i):a(this,Ke,"f")&&a(this,Q,"f").unknownArguments(o,e,{},!1,!1),a(this,Q,"f").limitedChoices(o),a(this,Q,"f").implications(o),a(this,Q,"f").conflicting(o)}}[Ds](){A(this,he,!0,"f")}[Ze](e){if(typeof e=="string")a(this,I,"f").key[e]=!0;else for(let t of e)a(this,I,"f").key[t]=!0}};function ps(s){return!!s&&typeof s.getInternalMethods=="function"}var hr=Bs(ln),qs=hr;var Jt=require("esbuild");var Hs=require("path"),Us=require("fs/promises");async function*Ys(s){let e=await(0,Us.readdir)(s,{withFileTypes:!0});for(let t of e){let n=(0,Hs.resolve)(s,t.name);t.isDirectory()?yield*Ys(n):yield n}}var Gs=Ys;var pt=require("fs"),xe=require("fs/promises"),_e=require("path");var Vs=require("fs/promises"),ks=async s=>{let e=await(0,Vs.readFile)(`${s}/darkflare.json`,{encoding:"utf-8"});return JSON.parse(e)};var dt=Li(Mi()),Si=async(s,e)=>{let t=Date.now(),n=await ks(s),i="",r="",o=await(0,xe.readFile)((0,_e.join)(__dirname,"./router.js"),{encoding:"utf-8"}),l=s.replaceAll("\\","\\")+"\\src",f=l.replace("\\src","");(0,pt.existsSync)(`${f}/.darkflare`)||await(0,xe.mkdir)(`${f}/.darkflare`),(0,pt.existsSync)(`${f}/.darkflare/.cache`)||await(0,xe.mkdir)(`${f}/.darkflare/.cache`);let m=(0,pt.existsSync)(`${l}/hooks/preValidation.ts`),b=C=>{if(!m)return"";if(n.protect.strict){for(let w of n.protect.strict)if(C.includes(w))return", preValidation.default"}if(n.protect.flexible){for(let w of n.protect.flexible)if(C.includes(w))return", preValidation.default"}return""};for await(let C of Gs(l))if(C.includes("routes")){let w=C.replace(l,"");w={endpoint:w.replaceAll("[",":").replaceAll("]","").replace(".ts","").replaceAll("\\","/").replaceAll("/index","").replace("/routes",""),path:C.replace(l,"./.cache").replace(".ts",".js").replaceAll("\\","/"),name:w.replace("\\","").replaceAll("\\","__").replaceAll("[","_").replaceAll("]","_").replace(".ts","").replace(/[^a-zA-Z0-9_]/g,"$")},i+=`var ${w.name} = require("${w.path}")
`,await(0,Jt.build)({entryPoints:[C],bundle:!1,minify:!1,format:"esm",outfile:C.replace(l,(0,_e.join)(f,"./.darkflare/.cache")).replace(".ts",".js")});let p=await(0,xe.readFile)(C.replace(l,(0,_e.join)(f,"./.darkflare/.cache")).replace(".ts",".js"),{encoding:"utf-8"}),L="";p.includes("get: async")&&(L+="GET, "),p.includes("post: async")&&(L+="POST, "),p.includes("patch: async")&&(L+="PATCH, "),p.includes("put: async")&&(L+="PUT, "),p.includes("delete: async")&&(L+="DELETE, "),p.includes("head: async")&&(L+="HEAD, "),L=L.substring(0,L.length-2);let D=()=>{if(n.protect.strict){for(let q of n.protect.strict)if(w.endpoint.includes(q))return!0}return!1},B=!(()=>{if(n.protect.flexible){for(let q of n.protect.flexible)if(w.endpoint.includes(q))return!0}return!1})()&&D()===!0;r+=`
      .options('${w.endpoint}', cors('${L}'))
      ${p.includes("get: async")?`.get('${w.endpoint}', async request => { return await handler(request, ${B}, ${w.name}.default.get${b(w.endpoint)}) })`:""}
      ${p.includes("post: async")?`.post('${w.endpoint}', async request => { return await handler(request, ${B}, ${w.name}.default.post${b(w.endpoint)}) })`:""}
      ${p.includes("patch: async")?`.patch('${w.endpoint}', async request => { return await handler(request, ${B}, ${w.name}.default.patch${b(w.endpoint)}) })`:""}
      ${p.includes("put: async")?`.put('${w.endpoint}', async request => { return await handler(request, ${B}, ${w.name}.default.put${b(w.endpoint)}) })`:""}
      ${p.includes("delete: async")?`.delete('${w.endpoint}', async request => { return await handler(request, ${B}, ${w.name}.default.delete${b(w.endpoint)}) })`:""}
      ${p.includes("head: async")?`.head('${w.endpoint}', async request => { return await handler(request, ${B}, ${w.name}.default.head${b(w.endpoint)}) })`:""}
    `}else!C.endsWith(".d.ts")&&!C.endsWith(".test.ts")&&C.endsWith(".ts")?await(0,Jt.build)({entryPoints:[C],bundle:!1,minify:!1,format:"esm",outfile:C.replace(l,(0,_e.join)(f,"./.darkflare/.cache")).replace(".ts",".js")}):C.endsWith(".json")&&await(0,xe.copyFile)(C,C.replace(l,(0,_e.join)(f,"./.darkflare/.cache")));o=o.replace("/* <- INSERT_IMPORTS_HERE -> */",i).replace("/* <- INSERT_PREVALIDATION_HOOK_HERE -> */",`${m?'var preValidation = require("./.cache/hooks/preValidation.js")':""}`).replace(`
/* <- INSERT_ROUTES_HERE -> */`,r.replace(/^ +/gm,"")).replace("/* <- INSERT_BASE_HERE -> */",`'${n.base??"/"}'`).replaceAll("/* <- INSERT_ORIGIN_HERE -> */",`'${n.origin??"*"}'`).replace("/* <- INSERT_DEV_HERE -> */",`'${e??!1}'`),await(0,xe.writeFile)((0,_e.join)(f,"./.darkflare/router.js"),o,{encoding:"utf-8"}),await(0,xe.copyFile)((0,_e.join)(__dirname,"./ittyRouter.js"),(0,_e.join)(f,"./.darkflare/ittyRouter.js")),await(0,Jt.build)({entryPoints:[(0,_e.join)(f,"./.darkflare/router.js")],bundle:!0,minify:!0,format:"cjs",legalComments:"none",outfile:(0,_e.join)(f,"./out/worker.js")});let{size:u}=(0,pt.statSync)((0,_e.join)(f,"./out/worker.js")),g=dt.default.blackBright(`${Date.now()-t} ms`),O=dt.default.blackBright(`${u/1e3} kB`);console.log(`${dt.default.bold.inverse.greenBright(" RESULT ")}

\u23F1\uFE0F  ${dt.default.blackBright(g)}
\u{1F4E6} ${dt.default.blackBright(O)}`)};qs(en(process.argv)).command("*","Create a production-ready build.",()=>{},s=>Si(process.cwd(),s.dev)).option("dev",{type:"boolean",description:"Run Darkflare in development mode."}).demandCommand(0).parse();
/**
 * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
 * CJS and ESM environments.
 *
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
